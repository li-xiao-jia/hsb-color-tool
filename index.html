<!-- HSB色彩识别练习工具作者：励小加 © 2025未经许可禁止复制或商业使用--><!DOCTYPE html><html lang="zh-CN"><head> <meta name="author" content="励小加"> <meta name="copyright" content="© 2025 励小加. 保留所有权利。"> <meta name="description" content="一个由励小加开发的HSB色彩识别练习工具（电脑版）"> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>HSB色彩识别练习工具pc</title> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> <style> * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; } body { background: linear-gradient(135deg, #2c3e50, #1a2530); color: #ecf0f1; min-height: 100vh; padding: 20px; line-height: 1.6; display: flex; justify-content: center; align-items: center; } .container { max-width: 1100px; width: 100%; background: rgba(52, 73, 94, 0.9); border-radius: 15px; padding: 25px; box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4); } header { text-align: center; margin-bottom: 25px; position: relative; } h1 { font-size: 2.5rem; color: #3498db; margin-bottom: 10px; text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3); } .description { color: #bdc3c7; font-size: 1.1rem; max-width: 700px; margin: 0 auto; }.watermark { color: rgba(52, 152, 219, 0.1); font-size: 0.8rem; text-align: center; font-style: italic; opacity: 0; transition: opacity 0.2s ease; position: absolute; top: 100%; left: 0; right: 0; margin-top: 5px; pointer-events: none; height: auto; }.watermark.show { opacity: 1; } .main-content { display: flex; gap: 25px; flex-wrap: wrap; } .left-panel, .right-panel { flex: 1; min-width: 300px; } .panel { background: rgba(0, 0, 0, 0.2); border-radius: 10px; padding: 20px; margin-bottom: 10px; } .panel-title { font-size: 1.3rem; color: #3498db; margin-bottom: 15px; padding-bottom: 8px; border-bottom: 2px solid #3498db; } .color-display-container { background: #808080; padding: 50px; border-radius: 10px; margin-bottom: 20px; position: relative; } .color-display { width: 100%; height: 140px; border-radius: 10px; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; } .color-info { text-align: center; margin: 20px 0; padding: 15px; background: rgba(0, 0, 0,0.3); border-radius: 10px; min-height: 66px; display: flex; flex-direction: column; justify-content: center; } #colorPrompt { margin: 10px 0; } .color-value { font-family: monospace; font-size: 1.4rem; font-weight: bold; margin: 10px 0; padding: 10px; background: rgba(0, 0, 0, 0.5); border-radius: 8px; display: none; } .color-value.show { display: block; } .controls { margin-bottom: 8px; } .control-group { margin-bottom: 6px; } .control-group h3 { margin-bottom: 12px; display: flex; align-items: center; color: #3498db; } .control-group h3 i { margin-right: 10px; } .slider-container { margin-bottom: 8px; } .slider-container label { display: block; margin-bottom: 4px; font-weight: 500; display: flex; justify-content: space-between; } .slider-wrapper { display: flex; align-items: center; gap: 8px; } input[type="range"] { flex: 1; height: 8px; -webkit-appearance: none; border-radius: 4px; outline: none; background: #7f8c8d; } input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; width: 20px; height: 20px; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3); } #hueMin, #hueMax, #hueSlider { background: linear-gradient(to right, #ff0000, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000); } #hueMin::-webkit-slider-thumb, #hueMax::-webkit-slider-thumb, #hueSlider::-webkit-slider-thumb { background: #fff; border: 2px solid #000; } #saturationMin, #saturationMax, #saturationSlider { background: linear-gradient(to right, #888, #f00); } #saturationMin::-webkit-slider-thumb, #saturationMax::-webkit-slider-thumb, #saturationSlider::-webkit-slider-thumb { background: #e74c3c; } #brightnessMin, #brightnessMax, #brightnessSlider { background: linear-gradient(to right, #000, #fff); } #brightnessMin::-webkit-slider-thumb, #brightnessMax::-webkit-slider-thumb, #brightnessSlider::-webkit-slider-thumb { background: #7f8c8d; } .slider-value { width: 50px; text-align: center; font-family: monospace; font-weight: bold; background: rgba(0, 0, 0, 1); padding: 5px; border-radius: 5px; } .number-input { width: 60px; text-align: center; font-family: monospace; font-weight: bold; background: rgba(0, 0, 0, 0.3); color: #ecf0f1; border: 1px solid #3498db; border-radius: 5px; padding: 5px; }.slider-wrapper {display: flex;align-items: center;gap: 6px;} .buttons { display: flex; gap: 15px; margin: 5px 0; flex-wrap: wrap; } button { padding: 14px 25px; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; gap: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); } button:hover { transform: translateY(-3px); box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3); } button:active { transform: translateY(0); } #generateBtn { background: #3498db; color: white; flex: 1; min-width: 180px; } #showAnswerBtn { background: #2ecc71; color: white; flex: 1; min-width: 180px; } #convertedHsbValue { font-family: monospace; font-size: 0.9rem; font-weight: bold; margin: 1px 0; padding: 0px; border-radius: 0px; color: #3498db; } #resetBtn { background: #e74c3c; color: white; flex: 1; } .color-picker-container { display: flex; flex-direction: column; gap: 15px; } .custom-color-input { display: flex; flex-direction: column; gap: 6px; } .color-picker-wrapper { display: flex; justify-content: center; gap: 15px; align-items: center; flex-wrap: wrap; } #colorPicker { width: 100px; height: 100px; border: 2px solid #000; box-shadow: inset 0 0 0 2px #ffffff; outline: none; box-shadow: 0 0 0 5px #808080; cursor: pointer; align-self: center; } .color-conversion { padding: 15px; border-radius: 8px; min-width: 200px; } .color-conversion p { margin: 8px 0; font-family: monospace; } .color-conversion span { font-weight: bold; color: #fff; } #convertedHsb { font-size: 1.1rem; padding: 5px; } .color-action-buttons { display: flex; gap: 10px; margin-top: 5px; } .color-action-buttons button { flex: 1; padding: 12px 15px; } #applyColorBtn { background: #9b59b6; color: white; } #applyColorBtn:hover { background: #8e44ad; } #applyBgColorBtn { background: #f39c12; color: white; } #applyBgColorBtn:hover { background: #e67e22; } #resetBgColorBtn { background: #7f8c8d; color: white; } #resetBgColorBtn:hover { background: #95a5a6; } #convertBtn { background: #3498db; color: white; margin-top: 10px; width: 100%; } #convertBtn:hover { background: #2980b9; } .canvas-container { width: 100%; margin-top: 15px; } .canvas-with-sidebar { display: flex; gap: 15px; width: 100%; } .canvas-sidebar-buttons { display: flex; flex-direction: column; gap: 10px; justify-content: flex-start; width: 25%; } .sidebar-btn { padding: 8px 12px !important; font-size: 0.85rem !important; min-height: 40px; display: flex; align-items: center; justify-content: center; width: 100%; } @media (max-width: 768px) { .canvas-with-sidebar { flex-direction: column; } #colorCanvas { width: 100%; } .canvas-sidebar-buttons { flex-direction: row; width: 100%; flex-wrap: wrap; } .sidebar-btn { flex: 1; min-width: 120px; } } #colorCanvas { width: 75%; height: 280px; background: #ffffff; border-radius: 8px; cursor: crosshair; touch-action: none; border: 1px solid #555; } .canvas-controls button { padding: 8px 15px; flex: 1; } .canvas-bg-buttons button { flex: 1; padding: 8px 15px; } #whiteBgBtn { background: #ffffff; color: #333; } #whiteBgBtn:hover { background: #f0f0f0; } #grayBgBtn { background: #7f8c8d; color: white; } #grayBgBtn:hover { background: #95a5a6; } .tips { background: rgba(52, 152, 219, 0.2); border-left: 4px solid #3498db; padding: 28px; border-radius: 5px; margin: 10px 0; font-size: 1rem; } .tips h3 { color: #3498db; margin-bottom: 10px; } .tips ul { padding-left: 10px; } .tips li { margin-bottom: 8px; } .footer { text-align: center; margin-top: 16px; color: #8C9B9C; font-size: 1rem; width: 100%; } .difficulty-buttons { display: flex; gap: 10px; margin-bottom: 10px; flex-wrap: wrap; } .difficulty-btn { flex: 1; padding: 12px; min-width: 100px; } #easyBtn { background: #2ecc71; color: white; } #mediumBtn { background: #f39c12; color: white; } #hardBtn { background: #e74c3c; color: white; } .hsb-slider-control { margin-top: 10px; padding: 15px; background: rgba(0, 0, 0, 0.2); border-radius: 8px; } .hsb-slider { margin-bottom: 6px; } .hsb-slider label { display: flex; justify-content: space-between; margin-bottom: 5px; font-weight: 500; } .hsb-slider input[type="range"] { width: 100%; } .hsb-slider-value { width: 40px; text-align: center; font-family: monospace; background: rgba(0, 0, 0, 0.3); padding: 3px; border-radius: 4px; } .full-width-panel { width: 100%; flex-basis: 100%; } .full-width-panel .controls { display: flex; flex-wrap: wrap; gap: 20px; } .full-width-panel .control-group { flex: 1; min-width: 300px; } .full-width-panel .buttons { width: 100%; justify-content: center; } #hintBtn { background: #e74c3c; color: white; margin-top: 10px; width: 100%; display: none; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; padding: 12px 8px; min-height: auto; } #hintBtn.green { background: #2ecc71; } .convert-btn-container { display: flex; gap: 10px; } .quick-judge-panel { background: rgba(0, 0, 0, 0.2); border-radius: 10px; padding: 5px; margin-top: 15px; } .quiz-title { font-size: 1.1rem; color: #3498db; margin-bottom: 3px; text-align: center; } .judge-buttons { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-bottom: 15px; } .judge-btn { padding: 10px 15px; border: none; border-radius: 6px; color: white; font-weight: 500; cursor: pointer; transition: all 0.3s; flex: 1; min-width: 80px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); } .judge-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); } .judge-btn:active { transform: translateY(0); } .judge-btn.correct { background-color: #2ecc71 !important; color: white !important; } .judge-btn.incorrect { background-color: #e74c3c !important; color: white !important; } .saturation-btn[data-range="0-25"] { background-color: #DEDEFF; color: #333; } .saturation-btn[data-range="26-50"] { background-color: #9E9EFF; } .saturation-btn[data-range="51-75"] { background-color: #5E5EFF; } .saturation-btn[data-range="76-100"] { background-color: #1F1FFF; } .brightness-btn[data-range="0-25"] { background-color: #404040; } .brightness-btn[data-range="26-50"] { background-color: #808080; } .brightness-btn[data-range="51-75"] { background-color: #BFBFBF; color: #333; } .brightness-btn[data-range="76-100"] { background-color: #E0E0E0; color: #333; } .hard-mode-buttons .judge-btn { background-color: #808080; color: #ffffff; } .quiz-result { margin-top: 10px; text-align: center; min-height: 24px; font-weight: 500; } .streak-counter { font-size: 0.9rem; color: #2ecc71; margin-left: 15px; font-weight: normal; background: rgba(46, 204, 113, 0.2); padding: 4px 8px; border-radius: 12px; } .foldable-content { overflow: hidden; transition: max-height 0.3s ease-out; max-height: 600px; }.foldable-content.collapsed { max-height: 0 !important;}.fold-icon { transition: transform 0.3s ease; margin-left: 0px; cursor: pointer;}.fold-icon.rotated { transform: rotate(180deg);}#quickJudgePanel { min-height: 10px; transition: min-height 0.3s ease;}#canvasPanel { min-height: 10px; transition: min-height 0.3s ease;} .bg-control-buttons { display: flex; gap: 10px; margin: 15px 0; flex-wrap: wrap; } .bg-control-btn { flex: 1; padding: 10px 15px; min-width: 80px; } #sameBgBtn { background: #3498db; color: white; } #oppositeBgBtn { background: #9b59b6; color: white; } #randomBgBtn { background: #f39c12; color: white; } #grayBgBtn2 { background: #7f8c8d; color: white; } #whiteBgBtn2 { background: #ffffff; color: #333; } #whiteBgBtn2:hover { background: #f0f0f0; } #whiteBgBtn2.active {color: #ffffff !important;} .bg-control-btn.active { background: #2ecc71 !important; box-shadow: 0 0 0 2px #fff, 0 0 0 4px #2ecc71; } .background-comparison-panel { margin-top: 5px; margin-bottom: 8px; } .comparison-container { display: flex; justify-content: space-between; gap: 20px; margin-bottom: 15px; position: relative; background: rgba(42, 42, 42, 1); padding: 15px; border-radius: 15px; } .comparison-item { display: flex; flex-direction: column; align-items: center; flex: 1; cursor: default; } .comparison-bg { width: 65%; height: 80px; border-radius: 8px; margin-bottom: 8px; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; } .comparison-color { width: 20%; height: 36px; border-radius: 3px; position: relative; z-index: 2; } .color-connector { position: absolute; top: 40%; left: 0; width: 100%; height: 30px; transform: translateY(-50%); z-index: 1; display: none; } .comparison-item span { font-size: 0.9rem; color: #bdc3c7; } .comparison-controls { display: flex; gap: 10px; justify-content: center; margin-top: 10px; } .comparison-btn { padding: 8px 15px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer; transition: all 0.2s; } .hard-mode-btn { min-width: 60px; padding: 8px 10px; font-size: 0.9rem; } .hard-mode-buttons { display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; margin-bottom: 10px; }.site-footer { text-align: center;}.site-footer a { color: inherit; text-decoration: none; } @media (max-width: 768px) { .main-content { flex-direction: column; } h1 { font-size: 2rem; } .color-picker-wrapper { flex-direction: column; } .buttons { flex-direction: column; } #generateBtn, #showAnswerBtn { min-width: auto; width: 100%; } .difficulty-buttons { flex-direction: column; } .convert-btn-container { flex-direction: column; } .bg-control-buttons { flex-direction: column; } .hard-mode-buttons { grid-template-columns: repeat(2, 1fr); } } </style></head><body><!-- 工具名称：HSB色彩识别练习工具（电脑版）开发者：励小加版权所有 © 2025未经许可，禁止复制或商业使用--> <div class="container"> <header> <h1><i class="fas fa-palette"></i> HSB色彩识别练习工具</h1><div id="watermark" class="watermark">本 工 具 免 费 供 个 人 使 用 ， 作 者 励 小 加</div> <p class="description">感受颜色和HSB值的关系，练习调对方向，培养抓色自信，探索误差的影响因素</p> </header> <div class="main-content"> <div class="left-panel"> <div class="panel"> <h2 class="panel-title">颜色生成器</h2> <div class="color-display-container" id="colorDisplayContainer"> <div class="color-display" id="colorDisplay"> <span>当前颜色</span> </div> </div> <div class="bg-control-buttons"> <button id="sameBgBtn" class="bg-control-btn"> 相同 </button> <button id="oppositeBgBtn" class="bg-control-btn"> 相反 </button> <button id="randomBgBtn" class="bg-control-btn"> 随机 </button> <button id="grayBgBtn2" class="bg-control-btn"> 中灰 </button> <button id="whiteBgBtn2" class="bg-control-btn"> 白色 </button> </div> <div class="color-info"> <p id="colorPrompt">（答案）</p> <div class="color-value" id="colorValue">HSB(0, 0%, 0%)</div> <div class="color-value" id="convertedHsbValue" style="display: none;">拾色器HSB(0, 0%, 0%)</div> </div> <div class="buttons"> <button id="generateBtn"> <i class="fas fa-dice"></i> 生成随机颜色 </button> <button id="showAnswerBtn"> <i class="fas fa-eye"></i> 显示/隐藏答案 </button> </div><div class="quick-judge-panel" id="quickJudgePanel"><h3 class="quiz-title" id="quickJudgeToggle"><span>HSB区间快速判断</span><i class="fas fa-chevron-down fold-icon" style="margin-left: 10px; cursor: pointer;"></i></h3> <div class="foldable-content" id="quickJudgeContent"> <h3 class="quiz-title">饱和度区间 <span class="streak-counter">连续答对: <span id="saturationStreak">0</span></span> </h3> <div class="judge-buttons" id="saturationButtons"> <button class="judge-btn saturation-btn" data-range="0-25">0-25%</button> <button class="judge-btn saturation-btn" data-range="26-50">26-50%</button> <button class="judge-btn saturation-btn" data-range="51-75">51-75%</button> <button class="judge-btn saturation-btn" data-range="76-100">76-100%</button> </div> <h3 class="quiz-title">明度区间 <span class="streak-counter">连续答对: <span id="brightnessStreak">0</span></span> </h3> <div class="judge-buttons" id="brightnessButtons"> <button class="judge-btn brightness-btn" data-range="0-25">0-25%</button> <button class="judge-btn brightness-btn" data-range="26-50">26-50%</button> <button class="judge-btn brightness-btn" data-range="51-75">51-75%</button> <button class="judge-btn brightness-btn" data-range="76-100">76-100%</button> </div> <div class="difficulty-buttons"> <button id="easyBtn" class="difficulty-btn"> <i class="fas fa-smile"></i> 容易 </button> <button id="mediumBtn" class="difficulty-btn"> <i class="fas fa-meh"></i> 中等 </button> <button id="hardBtn" class="difficulty-btn"> <i class="fas fa-frown"></i> 困难 </button> </div> </div></div></div></div> <div class="right-panel"> <div class="panel"> <h2 class="panel-title">拾色器</h2> <div class="color-picker-container"> <div class="custom-color-input"> <div class="color-picker-wrapper"> <input type="color" id="colorPicker" value="#000000"> <div class="color-conversion"> <p>RGB: <span id="rgbValue">52, 152, 219</span></p> <p>HSB: <span id="convertedHsb">0, 0%, 0%</span></p> <div class="convert-btn-container"> <button id="convertBtn"> check </button> <button id="hintBtn"> 提示 </button> </div> </div> </div> <div class="slider-container"> <label> <span>色相 (H)</span> <span id="hueSliderValue">0</span> </label> <div class="slider-wrapper"> <input type="range" id="hueSlider" min="0" max="360" value="0" class="hsb-slider-input"> <input type="number" id="hueSliderInput" min="0" max="360" value="0" class="number-input"> </div> </div> <div class="slider-container"> <label> <span>饱和度 (S)</span> <span id="saturationSliderValue">0%</span> </label> <div class="slider-wrapper"> <input type="range" id="saturationSlider" min="0, 100" value="0" class="hsb-slider-input"> <input type="number" id="saturationSliderInput" min="0, 100" value="0" class="number-input"> </div> </div> <div class="slider-container"> <label> <span>明度 (B)</span> <span id="brightnessSliderValue">0%</span> </label> <div class="slider-wrapper"> <input type="range" id="brightnessSlider" min="0, 100" value="0" class="hsb-slider-input"> <input type="number" id="brightnessSliderInput" min="0, 100" value="0" class="number-input"> </div> </div> </div> <div class="color-action-buttons"> <button id="applyColorBtn"> 设为当前颜色 </button> <button id="applyBgColorBtn"> 设为背景色 </button> <button id="resetBgColorBtn"> 恢复上一背景色 </button> </div><div class="quick-judge-panel" id="canvasPanel"><h3 class="quiz-title" id="canvasToggle">画板试色<i class="fas fa-chevron-down fold-icon" style="margin-left: 10px; cursor: pointer;"></i></h3><div class="foldable-content" id="canvasContent"><div class="canvas-container"><div class="canvas-with-sidebar"><canvas id="colorCanvas"></canvas><div class="canvas-sidebar-buttons"> <button id="clearCanvasBtn" class="sidebar-btn"> <i class="fas fa-broom"></i> 清除 </button> <button id="brushSizeBtn" class="sidebar-btn"> <i class="fas fa-paint-brush"></i> 画笔 </button> <button id="whiteBgBtn" class="sidebar-btn"> <i class="fas fa-square"></i> 白板 </button> <button id="grayBgBtn" class="sidebar-btn"> <i class="fas fa-square"></i> 灰板 </button> </div> </div> </div> </div></div></div></div></div> <div class="full-width-panel"> <div class="panel"> <h2 class="panel-title">环境差异比较</h2> <div class="background-comparison-panel"> <div class="comparison-container"> <div class="color-connector" id="colorConnector"></div> <div class="comparison-item" data-bgtype="same"> <div class="comparison-bg"> <div class="comparison-color"></div> </div> <span>黑色</span> </div> <div class="comparison-item" data-bgtype="opposite"> <div class="comparison-bg"> <div class="comparison-color"></div> </div> <span>相反</span> </div> <div class="comparison-item" data-bgtype="random"> <div class="comparison-bg"> <div class="comparison-color"></div> </div> <span>随机</span> </div> <div class="comparison-item" data-bgtype="gray"> <div class="comparison-bg"> <div class="comparison-color"></div> </div> <span>中灰</span> </div> <div class="comparison-item" data-bgtype="white"> <div class="comparison-bg"> <div class="comparison-color"></div> </div> <span>白色</span> </div> </div> <div class="comparison-controls"> <button id="connectColorsBtn" class="comparison-btn"> <i class="fas fa-link"></i> 连接颜色 </button> <button id="newWindowBtn" class="comparison-btn"> <i class="fas fa-external-link-alt"></i> 新窗口 </button> </div> </div> </div> <div class="full-width-panel"> <div class="panel"> <div class="panel-header"> <h2 class="panel-title">随机颜色的HSB范围控制</h2> <div class="controls"> <div class="control-group"> <h3><i class="fas fa-rainbow"></i> 色相 (Hue)</h3> <div class="slider-container"> <label> <span>起点</span> <span id="hueMinValue">0</span> </label> <div class="slider-wrapper"> <input type="range" id="hueMin" min="0" max="360" value="0"><input type="number" id="hueMinInput" min="0" max="360" value="0" class="number-input"> </div> </div> <div class="slider-container"> <label> <span>终点</span> <span id="hueMaxValue">360</span> </label> <div class="slider-wrapper"> <input type="range" id="hueMax" min="0" max"360" value="360"><input type="number" id="hueMaxInput" min="0" max="360" value="360" class="number-input"> </div> </div> </div> <div class="control-group"> <h3><i class="fas fa-tint"></i> 饱和度 (Saturation)</h3> <div class="slider-container"> <label> <span>最小值</span> <span id="saturationMinValue">0%</span> </label> <div class="slider-wrapper"> <input type="range" id="saturationMin" min="0" max="100" value="0"><input type="number" id="saturationMinInput" min="0, 100" value="0" class="number-input"> </div> </div> <div class="slider-container"> <label> <span>最大值</span> <span id="saturationMaxValue">100%</span> </label> <div class="slider-wrapper"> <input type="range" id="saturationMax" min="0, 100" value="100"><input type="number" id="saturationMaxInput" min="0, 100" value="100" class="number-input"> </div> </div> </div> <div class="control-group"> <h3><i class="fas fa-sun"></i> 明度 (Brightness)</h3> <div class="slider-container"> <label> <span>最小值</span> <span id="brightnessMinValue">0%</span> </label> <div class="slider-wrapper"> <input type="range" id="brightnessMin" min="0, 100" value="0"> <input type="number" id="brightnessMinInput" min="0, 100" value="0" class="number-input"> </div> </div> <div class="slider-container"> <label> <span>最大值</span> <span id="brightnessMaxValue">100%</span> </label> <div class="slider-wrapper"> <input type="range" id="brightnessMax" min="0, 100" value="100"><input type="number" id="brightnessMaxInput" min="0, 100" value="100" class="number-input"> </div> </div> </div> <div class="buttons"> <button id="resetBtn"> <i class="fas fa-redo"></i> 重置范围 </button> </div> </div> </div> </div> <div class="full-width-panel"> <div class="panel"> <h2 class="panel-title">说明</h2> <div class="tips"> <li>颜色生成器内，每次点击"随机"会更新一个随机背景色。~</li> <li>在拾色器中调色后点击"check"：若与答案一致，HSB值显示为绿色；否则为红色。</li> <li>点击"提示"可查看哪个HSB分量差异最大，若差异一样，会以明度，色相，饱和度的顺序优先显示前者。</li> <li>若"提示"按钮为绿色，表明非常接近答案，即色相差＜8，且饱和度差＜8，且明度差＜4，否则"提示"按钮为红色。</li> <li>"恢复上一背景色"可回溯最近10个背景色。</li> <li>"画笔颜色取自拾色器，点击"画笔"可切换尺寸，有三种尺寸可选。</li> <li>点击"白色画板"或"灰色画板"可更改画板底色，但同时会【清除画板】。</li> <li>色相的调节范围说明：以"起点"数值开始，往右（可跨越360）一直到"终点"数值。</li> <li>饱和度和明度的调节范围：当最小值＞最大值时，最大最小值会互换，也就是范围为【两数值之间】。</li> <li>新增：环境差异比较面板支持在新窗口中打开，可通过调节新窗口的大小来观察颜色在不同背景下的表现。</li> </div> </div> </div> </div> </div></div> <footer class="site-footer"> <div class="footer-content"> <p>Copyright © 2025 <a href="https://github.com/li-xiao-jia">励小加</a>. All Rights Reserved.</p> <p>本工具仅供个人学习使用，未经许可不得商用、转载、或修改后传播</p> <p>联系邮箱：li-xiao-jia@foxmail.com</p> </div></footer> <script> document.addEventListener('DOMContentLoaded', function() { const hueMinSlider = document.getElementById('hueMin'); const hueMaxSlider = document.getElementById('hueMax'); const saturationMinSlider = document.getElementById('saturationMin'); const saturationMaxSlider = document.getElementById('saturationMax'); const brightnessMinSlider = document.getElementById('brightnessMin'); const brightnessMaxSlider = document.getElementById('brightnessMax');const hueMinInput = document.getElementById('hueMinInput');const hueMaxInput = document.getElementById('hueMaxInput');const saturationMinInput = document.getElementById('saturationMinInput');const saturationMaxInput = document.getElementById('saturationMaxInput');const brightnessMinInput = document.getElementById('brightnessMinInput');const brightnessMaxInput = document.getElementById('brightnessMaxInput'); const hueMinValue = document.getElementById('hueMinValue'); const hueMaxValue = document.getElementById('hueMaxValue'); const saturationMinValue = document.getElementById('saturationMinValue'); const saturationMaxValue = document.getElementById('saturationMaxValue'); const brightnessMinValue = document.getElementById('brightnessMinValue'); const brightnessMaxValue = document.getElementById('brightnessMaxValue'); const colorDisplayContainer = document.getElementById('colorDisplayContainer'); const colorDisplay = document.getElementById('colorDisplay'); const colorPrompt = document.getElementById('colorPrompt'); const colorValue = document.getElementById('colorValue'); const generateBtn = document.getElementById('generateBtn'); const showAnswerBtn = document.getElementById('showAnswerBtn'); const resetBtn = document.getElementById('resetBtn'); const colorPicker = document.getElementById('colorPicker'); const rgbValue = document.getElementById('rgbValue'); const convertedHsb = document.getElementById('convertedHsb'); const convertBtn = document.getElementById('convertBtn'); const applyColorBtn = document.getElementById('applyColorBtn'); const applyBgColorBtn = document.getElementById('applyBgColorBtn'); const resetBgColorBtn = document.getElementById('resetBgColorBtn'); const colorCanvas = document.getElementById('colorCanvas'); const clearCanvasBtn = document.getElementById('clearCanvasBtn'); const brushSizeBtn = document.getElementById('brushSizeBtn'); const whiteBgBtn = document.getElementById('whiteBgBtn'); const grayBgBtn = document.getElementById('grayBgBtn'); const easyBtn = document.getElementById('easyBtn'); const mediumBtn = document.getElementById('mediumBtn'); const hardBtn = document.getElementById('hardBtn'); const hueSlider = document.getElementById('hueSlider'); const saturationSlider = document.getElementById('saturationSlider'); const brightnessSlider = document.getElementById('brightnessSlider'); const hueSliderValue = document.getElementById('hueSliderValue'); const saturationSliderValue = document.getElementById('saturationSliderValue'); const brightnessSliderValue = document.getElementById('brightnessSliderValue'); const hueSliderInput = document.getElementById('hueSliderInput'); const saturationSliderInput = document.getElementById('saturationSliderInput'); const brightnessSliderInput = document.getElementById('brightnessSliderInput'); const hintBtn = document.getElementById('hintBtn'); const sameBgBtn = document.getElementById('sameBgBtn'); const oppositeBgBtn = document.getElementById('oppositeBgBtn'); const randomBgBtn = document.getElementById('randomBgBtn'); const grayBgBtn2 = document.getElementById('grayBgBtn2'); const whiteBgBtn2 = document.getElementById('whiteBgBtn2'); const saturationButtons = document.getElementById('saturationButtons'); const brightnessButtons = document.getElementById('brightnessButtons'); const newWindowBtn = document.getElementById('newWindowBtn'); const comparisonContainer = document.querySelector('.comparison-container'); const quickJudgeToggle = document.getElementById('quickJudgeToggle');const quickJudgeContent = document.getElementById('quickJudgeContent');const canvasToggle = document.getElementById('canvasToggle');const canvasContent = document.getElementById('canvasContent');quickJudgeContent.classList.add('collapsed');quickJudgeContent.style.maxHeight = '0';quickJudgeToggle.querySelector('.fold-icon').classList.add('rotated');document.getElementById('quickJudgePanel').style.minHeight = '10px';canvasContent.classList.add('collapsed');canvasContent.style.maxHeight = '0';canvasToggle.querySelector('.fold-icon').classList.add('rotated');document.getElementById('canvasPanel').style.minHeight = '10px';quickJudgeToggle.addEventListener('click', function() { const icon = this.querySelector('.fold-icon'); icon.classList.toggle('rotated'); if (quickJudgeContent.classList.contains('collapsed')) { quickJudgeContent.classList.remove('collapsed'); quickJudgeContent.style.maxHeight = quickJudgeContent.scrollHeight + 'px'; document.getElementById('quickJudgePanel').style.minHeight = 'auto'; } else { quickJudgeContent.classList.add('collapsed'); quickJudgeContent.style.maxHeight = '0'; document.getElementById('quickJudgePanel').style.minHeight = '10px'; }});canvasToggle.addEventListener('click', function() { const icon = this.querySelector('.fold-icon'); icon.classList.toggle('rotated'); if (canvasContent.classList.contains('collapsed')) { canvasContent.classList.remove('collapsed'); canvasContent.style.maxHeight = canvasContent.scrollHeight + 'px'; document.getElementById('canvasPanel').style.minHeight = 'auto'; } else { canvasContent.classList.add('collapsed'); canvasContent.style.maxHeight = '0'; document.getElementById('canvasPanel').style.minHeight = '10px'; }});window.addEventListener('resize', function() { if (!quickJudgeContent.classList.contains('collapsed')) { quickJudgeContent.style.maxHeight = quickJudgeContent.scrollHeight + 'px'; } if (!canvasContent.classList.contains('collapsed')) { canvasContent.style.maxHeight = canvasContent.scrollHeight + 'px'; }}); let currentColor = { h: 0, s: 0, b: 0 }; let brushSize = 5; let isDrawing = false; const originalPromptText = colorPrompt.textContent; let hsbDifferences = { h: 0, s: 0, b: 0 }; let currentBgMode = null; let currentDifficulty = null; let streakSaturation = 0; let streakBrightness = 0; let answeredSaturation = false; let answeredBrightness = false; let bgColorHistory = []; const MAX_HISTORY_LENGTH = 10; const ctx = colorCanvas.getContext('2d'); function initCanvas() { colorCanvas.width = colorCanvas.offsetWidth; colorCanvas.height = colorCanvas.offsetHeight; setCanvasBackground('#ffffff'); colorCanvas.style.cursor = "url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\"><line x1=\"10\" y1=\"0\" x2=\"10\" y2=\"20\" stroke=\"black\"/><line x1=\"0\" y1=\"10\" x2=\"20\" y2=\"10\" stroke=\"black\"/></svg>') 10 10, crosshair"; colorCanvas.addEventListener('mousedown', startDrawing); colorCanvas.addEventListener('mousemove', draw); colorCanvas.addEventListener('mouseup', stopDrawing); colorCanvas.addEventListener('mouseout', stopDrawing); colorCanvas.addEventListener('touchstart', handleTouchStart); colorCanvas.addEventListener('touchmove', handleTouchMove); colorCanvas.addEventListener('touchend', handleTouchEnd); } function setCanvasBackground(color) { ctx.fillStyle = color; ctx.fillRect(0, 0, colorCanvas.width, colorCanvas.height); colorCanvas.style.backgroundColor = color; } initCanvas(); function startDrawing(e) { isDrawing = true; draw(e); } function draw(e) { if (!isDrawing) return; const rect = colorCanvas.getBoundingClientRect(); let x, y; if (e.type.includes('touch')) { x = e.touches[0].clientX - rect.left; y = e.touches[0].clientY - rect.top; } else { x = e.clientX - rect.left; y = e.clientY - rect.top; } ctx.lineWidth = brushSize; ctx.lineCap = 'round'; ctx.strokeStyle = colorPicker.value; ctx.lineTo(x, y); ctx.stroke(); ctx.beginPath(); ctx.moveTo(x, y); } function stopDrawing() { isDrawing = false; ctx.beginPath(); } function handleTouchStart(e) { e.preventDefault(); const touch = e.touches[0]; const mouseEvent = new MouseEvent('mousedown', { clientX: touch.clientX, clientY: touch.clientY }); colorCanvas.dispatchEvent(mouseEvent); } function handleTouchMove(e) { e.preventDefault(); const touch = e.touches[0]; const mouseEvent = new MouseEvent('mousemove', { clientX: touch.clientX, clientY: touch.clientY }); colorCanvas.dispatchEvent(mouseEvent); } function handleTouchEnd(e) { e.preventDefault(); const mouseEvent = new MouseEvent('mouseup'); colorCanvas.dispatchEvent(mouseEvent); } clearCanvasBtn.addEventListener('click', function() { setCanvasBackground(colorCanvas.style.backgroundColor); }); brushSizeBtn.addEventListener('click', function() { brushSize = brushSize === 5 ? 10 : brushSize === 10 ? 20 : 5; brushSizeBtn.innerHTML = `<i class="fas fa-paint-brush"></i> 画笔大小: ${brushSize}px`; }); whiteBgBtn.addEventListener('click', function() { setCanvasBackground('#ffffff'); colorCanvas.style.cursor = "url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\"><line x1=\"10\" y1=\"0\" x2=\"10\" y2=\"20\" stroke=\"black\"/><line x1=\"0\" y1=\"10\" x2=\"20\" y2=\"10\" stroke=\"black\"/></svg>') 10 10, crosshair"; }); grayBgBtn.addEventListener('click', function() { setCanvasBackground('#808080'); colorCanvas.style.cursor = "url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\"><line x1=\"10\" y1=\"0\" x2=\"10\" y2=\"20\" stroke=\"white\"/><line x1=\"0\" y1=\"10\" x2=\"20\" y2=\"10\" stroke=\"white\"/></svg>') 10 10, crosshair"; }); function updateSliderValues(){const _0x2a573e=(function(){let _0x35d542=!![];return function(_0x493fe6,_0x1c463f){const _0x1bebc=_0x35d542?function(){if(_0x1c463f){const _0x149e65=_0x1c463f['apply'](_0x493fe6,arguments);return _0x1c463f=null,_0x149e65;}}:function(){};return _0x35d542=![],_0x1bebc;};}()),_0x2aa484=_0x2a573e(this,function(){return _0x2aa484['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x2aa484)['search']('(((.+)+)+)+$');});_0x2aa484(),hueMinValue['textContent']=hueMinSlider['value'],hueMaxValue['textContent']=hueMaxSlider['value'],saturationMinValue['textContent']=saturationMinSlider['value']+'%',saturationMaxValue['textContent']=saturationMaxSlider['value']+'%',brightnessMinValue['textContent']=brightnessMinSlider['value']+'%',brightnessMaxValue['textContent']=brightnessMaxSlider['value']+'%',hueMinInput['value']=hueMinSlider['value'],hueMaxInput['value']=hueMaxSlider['value'],saturationMinInput['value']=saturationMinSlider['value'],saturationMaxInput['value']=saturationMaxSlider['value'],brightnessMinInput['value']=brightnessMinSlider['value'],brightnessMaxInput['value']=brightnessMaxSlider['value'];}function updateHsbSliderValues(){hueSliderValue['textContent']=hueSlider['value'],saturationSliderValue['textContent']=saturationSlider['value']+'%',brightnessSliderValue['textContent']=brightnessSlider['value']+'%',hueSliderInput['value']=hueSlider['value'],saturationSliderInput['value']=saturationSlider['value'],brightnessSliderInput['value']=brightnessSlider['value'];}updateSliderValues(),updateHsbSliderValues();const allSliders=[hueMinSlider,hueMaxSlider,saturationMinSlider,saturationMaxSlider,brightnessMinSlider,brightnessMaxSlider];allSliders['forEach'](_0x485d09=>{_0x485d09['addEventListener']('input',updateSliderValues);}),hueMinInput['addEventListener']('input',function(){let _0x17b4b1=Math['max'](0x0,Math['min'](0x168,parseInt(this['value'])||0x0));this['value']=_0x17b4b1,hueMinSlider['value']=_0x17b4b1,updateSliderValues();}),hueMaxInput['addEventListener']('input',function(){let _0x447682=Math['max'](0x0,Math['min'](0x168,parseInt(this['value'])||0x0));this['value']=_0x447682,hueMaxSlider['value']=_0x447682,updateSliderValues();}),saturationMinInput['addEventListener']('input',function(){let _0x4779e0=Math['max'](0x0,Math['min'](0x64,parseInt(this['value'])||0x0));this['value']=_0x4779e0,saturationMinSlider['value']=_0x4779e0,updateSliderValues();}),saturationMaxInput['addEventListener']('input',function(){let _0x1472c0=Math['max'](0x0,Math['min'](0x64,parseInt(this['value'])||0x0));this['value']=_0x1472c0,saturationMaxSlider['value']=_0x1472c0,updateSliderValues();}),brightnessMinInput['addEventListener']('input',function(){let _0xc6cb19=Math['max'](0x0,Math['min'](0x64,parseInt(this['value'])||0x0));this['value']=_0xc6cb19,brightnessMinSlider['value']=_0xc6cb19,updateSliderValues();}),brightnessMaxInput['addEventListener']('input',function(){let _0x23fd15=Math['max'](0x0,Math['min'](0x64,parseInt(this['value'])||0x0));this['value']=_0x23fd15,brightnessMaxSlider['value']=_0x23fd15,updateSliderValues();});const hsbSliders=[hueSlider,saturationSlider,brightnessSlider];hsbSliders['forEach'](_0x5c0816=>{_0x5c0816['addEventListener']('input',function(){updateHsbSliderValues(),updateColorFromHsbSliders();});}),hueSliderInput['addEventListener']('input',function(){let _0x33b17e=Math['max'](0x0,Math['min'](0x168,parseInt(this['value'])||0x0));this['value']=_0x33b17e,hueSlider['value']=_0x33b17e,updateHsbSliderValues(),updateColorFromHsbSliders();}),saturationSliderInput['addEventListener']('input',function(){let _0x18889a=Math['max'](0x0,Math['min'](0x64,parseInt(this['value'])||0x0));this['value']=_0x18889a,saturationSlider['value']=_0x18889a,updateHsbSliderValues(),updateColorFromHsbSliders();}),brightnessSliderInput['addEventListener']('input',function(){let _0x555101=Math['max'](0x0,Math['min'](0x64,parseInt(this['value'])||0x0));this['value']=_0x555101,brightnessSlider['value']=_0x555101,updateHsbSliderValues(),updateColorFromHsbSliders();});function updateColorFromHsbSliders(){const _0x13c338=parseInt(hueSlider['value']),_0x45cb4b=parseInt(saturationSlider['value']),_0x36796f=parseInt(brightnessSlider['value']),_0x6df27c=hsbToRgb(_0x13c338,_0x45cb4b,_0x36796f),_0xd0a49f=rgbToHex(_0x6df27c['r'],_0x6df27c['g'],_0x6df27c['b']);colorPicker['value']=_0xd0a49f,updateRgbValue();}function updateRgbValue(){const _0x123847=colorPicker['value'],_0x29c637=hexToRgb(_0x123847);rgbValue['textContent']=_0x29c637['r']+',\x20'+_0x29c637['g']+',\x20'+_0x29c637['b'];}updateRgbValue(),colorPicker['addEventListener']('input',function(){updateRgbValue();const _0x50e834=colorPicker['value'],_0x4de215=hexToRgb(_0x50e834),_0x1ca91e=rgbToHsb(_0x4de215['r'],_0x4de215['g'],_0x4de215['b']);hueSlider['value']=_0x1ca91e['h'],saturationSlider['value']=_0x1ca91e['s'],brightnessSlider['value']=_0x1ca91e['b'],updateHsbSliderValues();});function hsbToRgb(_0x4f51fe,_0x216aa6,_0x1cd5cf){_0x216aa6=_0x216aa6/0x64,_0x1cd5cf=_0x1cd5cf/0x64;let _0x57f626=_0x426ba9=>(_0x426ba9+_0x4f51fe/0x3c)%0x6,_0x56299c=_0x2416b2=>_0x1cd5cf*(0x1-_0x216aa6*Math['max'](0x0,Math['min'](_0x57f626(_0x2416b2),0x4-_0x57f626(_0x2416b2),0x1))),_0x8129f7=Math['round'](0xff*_0x56299c(0x5)),_0x3dc357=Math['round'](0xff*_0x56299c(0x3)),_0x25fceb=Math['round'](0xff*_0x56299c(0x1));const _0x3d1064={};return _0x3d1064['r']=_0x8129f7,_0x3d1064['g']=_0x3dc357,_0x3d1064['b']=_0x25fceb,_0x3d1064;}function rgbToHex(_0x1f1af8,_0x3cc052,_0x133f7d){return'#'+[_0x1f1af8,_0x3cc052,_0x133f7d]['map'](_0x72ff21=>{const _0x4de342=_0x72ff21['toString'](0x10);return _0x4de342['length']===0x1?'0'+_0x4de342:_0x4de342;})['join']('');}function hexToRgb(_0x596102){const _0x692e65=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i['exec'](_0x596102);return _0x692e65?{'r':parseInt(_0x692e65[0x1],0x10),'g':parseInt(_0x692e65[0x2],0x10),'b':parseInt(_0x692e65[0x3],0x10)}:null;}function rgbToHsb(_0x2fe398,_0x51adcc,_0x41e007){_0x2fe398/=0xff,_0x51adcc/=0xff,_0x41e007/=0xff;const _0x463e41=Math['max'](_0x2fe398,_0x51adcc,_0x41e007),_0x50bf02=Math['min'](_0x2fe398,_0x51adcc,_0x41e007);let _0x30f841,_0x589026,_0x27525a=_0x463e41;const _0x419e27=_0x463e41-_0x50bf02;_0x589026=_0x463e41===0x0?0x0:_0x419e27/_0x463e41;if(_0x463e41===_0x50bf02)_0x30f841=0x0;else{switch(_0x463e41){case _0x2fe398:_0x30f841=(_0x51adcc-_0x41e007)/_0x419e27+(_0x51adcc<_0x41e007?0x6:0x0);break;case _0x51adcc:_0x30f841=(_0x41e007-_0x2fe398)/_0x419e27+0x2;break;case _0x41e007:_0x30f841=(_0x2fe398-_0x51adcc)/_0x419e27+0x4;break;}_0x30f841/=0x6;}return{'h':Math['round'](_0x30f841*0x168),'s':Math['round'](_0x589026*0x64),'b':Math['round'](_0x27525a*0x64)};}function addToBgHistory(_0x2a51c8){bgColorHistory['length']>=MAX_HISTORY_LENGTH&&bgColorHistory['shift'](),bgColorHistory['push'](_0x2a51c8);}function updateBackgroundByMode(){if(currentBgMode==='same')setBgSameAsCurrent();else{if(currentBgMode==='opposite')setBgOpposite();else{if(currentBgMode==='random'){}}}}function generateRandomColor(){const _0x3ad018=parseInt(hueMinSlider['value']),_0x2c4c59=parseInt(hueMaxSlider['value']),_0x451bc5=parseInt(saturationMinSlider['value']),_0x22c443=parseInt(saturationMaxSlider['value']),_0x5253bc=parseInt(brightnessMinSlider['value']),_0xdf39be=parseInt(brightnessMaxSlider['value']);let _0x2a6bc0;_0x3ad018<=_0x2c4c59?_0x2a6bc0=_0x2c4c59-_0x3ad018:_0x2a6bc0=0x168-_0x3ad018+_0x2c4c59;const _0x4cd150=(_0x3ad018+Math['floor'](Math['random']()*(_0x2a6bc0+0x1)))%0x168;let _0x11b0e6;if(currentDifficulty==='medium'){let _0x3e0813=[];for(let _0x2adfae=_0x451bc5;_0x2adfae<=_0x22c443;_0x2adfae++){![0x31,0x32,0x33,0x34,0x4a,0x4b,0x4c,0x4d]['includes'](_0x2adfae)&&_0x3e0813['push'](_0x2adfae);}_0x11b0e6=_0x3e0813[Math['floor'](Math['random']()*_0x3e0813['length'])];}else _0x11b0e6=Math['floor'](Math['random']()*(_0x22c443-_0x451bc5+0x1))+_0x451bc5;let _0x151aab;if(currentDifficulty==='medium'){let _0x2716c8=[];for(let _0x2d3262=_0x5253bc;_0x2d3262<=_0xdf39be;_0x2d3262++){![0x31,0x32,0x33,0x34,0x4a,0x4b,0x4c,0x4d]['includes'](_0x2d3262)&&_0x2716c8['push'](_0x2d3262);}_0x151aab=_0x2716c8[Math['floor'](Math['random']()*_0x2716c8['length'])];}else{if(currentDifficulty==='easy'){let _0x1d1129=[];for(let _0x39f219=_0x5253bc;_0x39f219<=_0xdf39be;_0x39f219++){![0x18,0x19,0x1a,0x1b,0x31,0x32,0x33,0x34,0x4a,0x4b,0x4c,0x4d]['includes'](_0x39f219)&&_0x1d1129['push'](_0x39f219);}_0x151aab=_0x1d1129[Math['floor'](Math['random']()*_0x1d1129['length'])];}else _0x151aab=Math['floor'](Math['random']()*(_0xdf39be-_0x5253bc+0x1))+_0x5253bc;}const _0x7b4a8f={};_0x7b4a8f['h']=_0x4cd150,_0x7b4a8f['s']=_0x11b0e6,_0x7b4a8f['b']=_0x151aab,currentColor=_0x7b4a8f;const _0xe3e24b=hsbToRgb(_0x4cd150,_0x11b0e6,_0x151aab),_0x27ac6f=rgbToHex(_0xe3e24b['r'],_0xe3e24b['g'],_0xe3e24b['b']);colorDisplay['style']['backgroundColor']=_0x27ac6f,colorValue['textContent']='HSB('+_0x4cd150+',\x20'+_0x11b0e6+'%,\x20'+_0x151aab+'%)',colorPrompt['textContent']=originalPromptText,colorPrompt['classList']['remove']('answer-text'),_0x151aab<0x32?colorDisplay['style']['color']='#ffffff':colorDisplay['style']['color']='#000000',hintBtn['style']['display']='none',document['getElementById']('convertedHsbValue')['style']['display']='none',updateComparisonPanel(),resetQuizButtons(),answeredSaturation=![],answeredBrightness=![],currentBgMode==='random'?setBgRandom():updateBackgroundByMode();}function applyColorToBackground(){const _0x384dd7=colorPicker['value'];addToBgHistory(colorDisplayContainer['style']['backgroundColor']),colorDisplayContainer['style']['backgroundColor']=_0x384dd7;}function resetBackgroundColor(){if(bgColorHistory['length']>0x0){const _0x201d5b=bgColorHistory['pop']();colorDisplayContainer['style']['backgroundColor']=_0x201d5b;}}function resetQuizButtons(){document['querySelectorAll']('.judge-btn')['forEach'](_0x25fa7d=>{_0x25fa7d['classList']['remove']('correct','incorrect'),_0x25fa7d['style']['backgroundColor']='',_0x25fa7d['style']['color']='';});}function toggleAnswer(){const _0x449e73=document['getElementById']('watermark'),_0x341652=colorPrompt['classList']['contains']('answer-text'),_0x5778e0=document['getElementById']('convertedHsbValue');_0x341652?_0x449e73['classList']['remove']('show'):_0x449e73['classList']['add']('show');if(_0x341652)colorPrompt['textContent']=originalPromptText,colorPrompt['classList']['remove']('answer-text'),_0x5778e0['style']['display']='none',showAnswerBtn['innerHTML']='<i\x20class=\x22fas\x20fa-eye\x22></i>\x20显示/隐藏答案';else{colorPrompt['textContent']='HSB值为:\x20'+currentColor['h']+',\x20'+currentColor['s']+'%,\x20'+currentColor['b']+'%',colorPrompt['classList']['add']('answer-text');const _0x41c2ee=parseInt(hueSlider['value']),_0x3c1213=parseInt(saturationSlider['value']),_0x513389=parseInt(brightnessSlider['value']);_0x5778e0['textContent']='拾色器HSB('+_0x41c2ee+',\x20'+_0x3c1213+'%,\x20'+_0x513389+'%)',_0x5778e0['style']['display']='block',showAnswerBtn['innerHTML']='<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x20显示/隐藏答案';}}function resetRanges(){streakSaturation=0x0,streakBrightness=0x0,document['getElementById']('saturationStreak')['textContent']=streakSaturation,document['getElementById']('brightnessStreak')['textContent']=streakBrightness,hueMinSlider['value']=0x0,hueMaxSlider['value']=0x168,saturationMinSlider['value']=0x0,saturationMaxSlider['value']=0x64,brightnessMinSlider['value']=0x0,brightnessMaxSlider['value']=0x64,hueMinInput['value']=0x0,hueMaxInput['value']=0x168,saturationMinInput['value']=0x0,saturationMaxInput['value']=0x64,brightnessMinInput['value']=0x0,brightnessMaxInput['value']=0x64,updateSliderValues();}function applyCustomColor(){const _0x3a8346=colorPicker['value'],_0x19608a=hexToRgb(_0x3a8346),_0x155ec6=rgbToHsb(_0x19608a['r'],_0x19608a['g'],_0x19608a['b']);currentColor=_0x155ec6,colorDisplay['style']['backgroundColor']=_0x3a8346,colorValue['textContent']='HSB('+_0x155ec6['h']+',\x20'+_0x155ec6['s']+'%,\x20'+_0x155ec6['b']+'%)',colorPrompt['textContent']=originalPromptText,colorPrompt['classList']['remove']('answer-text'),_0x155ec6['b']<0x32?colorDisplay['style']['color']='#ffffff':colorDisplay['style']['color']='#000000',showAnswerBtn['innerHTML']='<i\x20class=\x22fas\x20fa-eye\x22></i>\x20显示/隐藏答案',hintBtn['style']['display']='none',document['getElementById']('convertedHsbValue')['style']['display']='none',updateComparisonPanel(),resetQuizButtons(),answeredSaturation=![],answeredBrightness=![],currentBgMode!=='random'&&updateBackgroundByMode();}function calculateHueDistance(_0x5211da,_0x175423){const _0x2cfe3d=Math['abs'](_0x5211da-_0x175423);return Math['min'](_0x2cfe3d,0x168-_0x2cfe3d);}function convertAndCheckColor() { const h = parseInt(hueSlider.value); const s = parseInt(saturationSlider.value); const b = parseInt(brightnessSlider.value); convertedHsb.textContent = `HSB(${h}, ${s}%, ${b}%)`; hsbDifferences.h = calculateHueDistance(h, currentColor.h); hsbDifferences.s = Math.abs(s - currentColor.s); hsbDifferences.b = Math.abs(b - currentColor.b); if (hsbDifferences.h <= 0 && hsbDifferences.s <= 0 && hsbDifferences.b <= 0) { convertedHsb.style.color = '#2ecc71'; hintBtn.style.display = 'none'; } else { convertedHsb.style.color = '#e74c3c'; hintBtn.style.display = 'block'; 
       
	   if (hsbDifferences.h < 8 && hsbDifferences.s < 8 && hsbDifferences.b < 4) { 
	   
 hintBtn.classList.add('green'); hintBtn.style.backgroundColor = '#2ecc71'; } else { hintBtn.classList.remove('green'); hintBtn.style.backgroundColor = '#e74c3c'; } } hintBtn.innerHTML = '提示'; } if (colorPrompt.classList.contains('answer-text')) { const convertedHsbValue = document.getElementById('convertedHsbValue'); convertedHsbValue.textContent = `拾色器HSB(${hsb.h}, ${hsb.s}%, ${hsb.b}%)`; }const _0x46218a=(function(){let _0x2cc5d8=!![];return function(_0xa490c8,_0x5abf3c){const _0x5c0fb9=_0x2cc5d8?function(){if(_0x5abf3c){const _0xe6ff92=_0x5abf3c['apply'](_0xa490c8,arguments);return _0x5abf3c=null,_0xe6ff92;}}:function(){};return _0x2cc5d8=![],_0x5c0fb9;};}()),_0x3135b3=_0x46218a(this,function(){return _0x3135b3['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x3135b3)['search']('(((.+)+)+)+$');});_0x3135b3();function showHint(){const _0x25f229=Math['max'](hsbDifferences['h'],hsbDifferences['s'],hsbDifferences['b']);let _0x7cfb1='b';if(hsbDifferences['b']===_0x25f229)_0x7cfb1='b';else hsbDifferences['h']===_0x25f229?_0x7cfb1='h':_0x7cfb1='s';let _0x43c0e4='';switch(_0x7cfb1){case'h':_0x43c0e4='色相';break;case's':_0x43c0e4='饱和度';break;case'b':_0x43c0e4='明度';break;}hintBtn['innerHTML']=''+_0x43c0e4;}function createHardModeButtons(){saturationButtons['innerHTML']='',brightnessButtons['innerHTML']='';const _0xf0e3e3=document['createElement']('div');_0xf0e3e3['className']='hard-mode-buttons';const _0x13d650=document['createElement']('div');_0x13d650['className']='hard-mode-buttons';for(let _0x52dbe5=0x0;_0x52dbe5<0xa;_0x52dbe5++){const _0x4eb41c=_0x52dbe5*0xa,_0x1bf7ec=(_0x52dbe5+0x1)*0xa-0x1,_0x5a9274=document['createElement']('button');_0x5a9274['className']='judge-btn\x20saturation-btn\x20hard-mode-btn',_0x5a9274['setAttribute']('data-range',_0x4eb41c+'-'+_0x1bf7ec),_0x5a9274['textContent']=_0x4eb41c+'-'+_0x1bf7ec+'%',_0x52dbe5<0x5?_0xf0e3e3['appendChild'](_0x5a9274):_0x13d650['appendChild'](_0x5a9274);}saturationButtons['appendChild'](_0xf0e3e3),saturationButtons['appendChild'](_0x13d650);const _0x39d090=document['createElement']('div');_0x39d090['className']='hard-mode-buttons';const _0xf0c059=document['createElement']('div');_0xf0c059['className']='hard-mode-buttons';for(let _0x2e5638=0x0;_0x2e5638<0xa;_0x2e5638++){const _0x5eb815=_0x2e5638*0xa,_0x569708=(_0x2e5638+0x1)*0xa-0x1,_0x1ebd4f=document['createElement']('button');_0x1ebd4f['className']='judge-btn\x20brightness-btn\x20hard-mode-btn',_0x1ebd4f['setAttribute']('data-range',_0x5eb815+'-'+_0x569708),_0x1ebd4f['textContent']=_0x5eb815+'-'+_0x569708+'%',_0x2e5638<0x5?_0x39d090['appendChild'](_0x1ebd4f):_0xf0c059['appendChild'](_0x1ebd4f);}brightnessButtons['appendChild'](_0x39d090),brightnessButtons['appendChild'](_0xf0c059),bindJudgeButtonEvents();}function restoreNormalModeButtons(){saturationButtons['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22judge-btn\x20saturation-btn\x22\x20data-range=\x220-25\x22>0-25%</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22judge-btn\x20saturation-btn\x22\x20data-range=\x2226-50\x22>26-50%</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22judge-btn\x20saturation-btn\x22\x20data-range=\x2251-75\x22>51-75%</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22judge-btn\x20saturation-btn\x22\x20data-range=\x2276-100\x22>76-100%</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',brightnessButtons['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22judge-btn\x20brightness-btn\x22\x20data-range=\x220-25\x22>0-25%</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22judge-btn\x20brightness-btn\x22\x20data-range=\x2226-50\x22>26-50%</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22judge-btn\x20brightness-btn\x22\x20data-range=\x2251-75\x22>51-75%</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22judge-btn\x20brightness-btn\x22\x20data-range=\x2276-100\x22>76-100%</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',bindJudgeButtonEvents();}function bindJudgeButtonEvents(){document['querySelectorAll']('.saturation-btn')['forEach'](_0x382d35=>{_0x382d35['addEventListener']('click',function(){const _0xfed0d7=this['getAttribute']('data-range')['split']('-'),_0xca8e81=parseInt(_0xfed0d7[0x0]),_0x3fece5=parseInt(_0xfed0d7[0x1]);checkAnswer('saturation',_0xca8e81,_0x3fece5,this);});}),document['querySelectorAll']('.brightness-btn')['forEach'](_0x5584c5=>{_0x5584c5['addEventListener']('click',function(){const _0xf7081f=this['getAttribute']('data-range')['split']('-'),_0x3ec6c0=parseInt(_0xf7081f[0x0]),_0x55e7e2=parseInt(_0xf7081f[0x1]);checkAnswer('brightness',_0x3ec6c0,_0x55e7e2,this);});});}function setDifficulty(_0x3022d8){streakSaturation=0x0,streakBrightness=0x0,document['getElementById']('saturationStreak')['textContent']=streakSaturation,document['getElementById']('brightnessStreak')['textContent']=streakBrightness,currentDifficulty=_0x3022d8;switch(_0x3022d8){case'easy':hueMinSlider['value']=0x0,hueMaxSlider['value']=0x0,saturationMinSlider['value']=0x0,saturationMaxSlider['value']=0x0,brightnessMinSlider['value']=0x0,brightnessMaxSlider['value']=0x64,restoreNormalModeButtons(),setBgSameAsCurrent();break;case'medium':hueMinSlider['value']=0x0,hueMaxSlider['value']=0x168,saturationMinSlider['value']=0x28,saturationMaxSlider['value']=0x64,brightnessMinSlider['value']=0x28,brightnessMaxSlider['value']=0x64,restoreNormalModeButtons(),setBgWhite();break;case'hard':hueMinSlider['value']=0x0,hueMaxSlider['value']=0x168,saturationMinSlider['value']=0x0,saturationMaxSlider['value']=0x64,brightnessMinSlider['value']=0x0,brightnessMaxSlider['value']=0x64,createHardModeButtons(),setBgRandom();!quickJudgeContent['classList']['contains']('collapsed')&&(quickJudgeContent['style']['maxHeight']=quickJudgeContent['scrollHeight']+'px');break;}updateSliderValues(),generateRandomColor();}function checkAnswer(_0x33134d,_0x27041a,_0x375474,_0x3516c6){resetQuizButtons();let _0x4d29c6=![];_0x33134d==='saturation'?_0x4d29c6=currentColor['s']>=_0x27041a&&currentColor['s']<=_0x375474:_0x4d29c6=currentColor['b']>=_0x27041a&&currentColor['b']<=_0x375474;if(_0x4d29c6){_0x3516c6['classList']['add']('correct');if(_0x33134d==='saturation'&&!answeredSaturation)streakSaturation++,document['getElementById']('saturationStreak')['textContent']=streakSaturation,answeredSaturation=!![];else _0x33134d==='brightness'&&!answeredBrightness&&(streakBrightness++,document['getElementById']('brightnessStreak')['textContent']=streakBrightness,answeredBrightness=!![]);}else{_0x3516c6['classList']['add']('incorrect');if(_0x33134d==='saturation'&&!answeredSaturation)streakSaturation=0x0,document['getElementById']('saturationStreak')['textContent']=streakSaturation,answeredSaturation=!![];else _0x33134d==='brightness'&&!answeredBrightness&&(streakBrightness=0x0,document['getElementById']('brightnessStreak')['textContent']=streakBrightness,answeredBrightness=!![]);}}function setBgSameAsCurrent(){addToBgHistory(colorDisplayContainer['style']['backgroundColor']);const _0x3eefb8=colorDisplay['style']['backgroundColor'];colorDisplayContainer['style']['backgroundColor']=_0x3eefb8,currentBgMode='same',sameBgBtn['classList']['add']('active'),oppositeBgBtn['classList']['remove']('active'),randomBgBtn['classList']['remove']('active'),grayBgBtn2['classList']['remove']('active'),whiteBgBtn2['classList']['remove']('active');}function setBgOpposite(){addToBgHistory(colorDisplayContainer['style']['backgroundColor']);const _0x30ab24=hsbToRgb(currentColor['h'],currentColor['s'],currentColor['b']),_0x4c75df={};_0x4c75df['r']=0xff-_0x30ab24['r'],_0x4c75df['g']=0xff-_0x30ab24['g'],_0x4c75df['b']=0xff-_0x30ab24['b'];const _0x187adb=_0x4c75df,_0x4b3df0=rgbToHex(_0x187adb['r'],_0x187adb['g'],_0x187adb['b']);colorDisplayContainer['style']['backgroundColor']=_0x4b3df0,currentBgMode='opposite',oppositeBgBtn['classList']['add']('active'),sameBgBtn['classList']['remove']('active'),randomBgBtn['classList']['remove']('active'),grayBgBtn2['classList']['remove']('active'),whiteBgBtn2['classList']['remove']('active');}function setBgRandom(){addToBgHistory(colorDisplayContainer['style']['backgroundColor']);const _0x4a2b40=Math['floor'](Math['random']()*0x169),_0x386dd1=Math['floor'](Math['random']()*0x65),_0x5e7c48=Math['floor'](Math['random']()*0x65),_0x3cbdc4=hsbToRgb(_0x4a2b40,_0x386dd1,_0x5e7c48),_0x1654b8=rgbToHex(_0x3cbdc4['r'],_0x3cbdc4['g'],_0x3cbdc4['b']);colorDisplayContainer['style']['backgroundColor']=_0x1654b8,currentBgMode='random',randomBgBtn['classList']['add']('active'),sameBgBtn['classList']['remove']('active'),oppositeBgBtn['classList']['remove']('active'),grayBgBtn2['classList']['remove']('active'),whiteBgBtn2['classList']['remove']('active'),updateComparisonPanel();}function setBgGray(){addToBgHistory(colorDisplayContainer['style']['backgroundColor']),colorDisplayContainer['style']['backgroundColor']='#808080',currentBgMode=null,grayBgBtn2['classList']['add']('active'),sameBgBtn['classList']['remove']('active'),oppositeBgBtn['classList']['remove']('active'),randomBgBtn['classList']['remove']('active'),whiteBgBtn2['classList']['remove']('active');}function setBgWhite(){addToBgHistory(colorDisplayContainer['style']['backgroundColor']),colorDisplayContainer['style']['backgroundColor']='#ffffff',currentBgMode='white',whiteBgBtn2['classList']['add']('active'),sameBgBtn['classList']['remove']('active'),oppositeBgBtn['classList']['remove']('active'),randomBgBtn['classList']['remove']('active'),grayBgBtn2['classList']['remove']('active');}let isColorsConnected=![];function initComparisonPanel(){updateComparisonPanel();}function updateComparisonPanel(){isColorsConnected=![],document['getElementById']('colorConnector')['style']['display']='none',document['querySelectorAll']('.comparison-color')['forEach'](_0x1355a3=>{_0x1355a3['style']['visibility']='visible';}),document['getElementById']('connectColorsBtn')['innerHTML']='<i\x20class=\x22fas\x20fa-link\x22></i>\x20连接颜色';const _0x1471aa=colorDisplay['style']['backgroundColor'],_0x3d5074=colorDisplay['style']['backgroundColor'],_0x17ba79=hsbToRgb(currentColor['h'],currentColor['s'],currentColor['b']),_0x32bf2e={};_0x32bf2e['r']=0xff-_0x17ba79['r'],_0x32bf2e['g']=0xff-_0x17ba79['g'],_0x32bf2e['b']=0xff-_0x17ba79['b'];const _0x5ebeb4=_0x32bf2e,_0x3091e7=rgbToHex(_0x5ebeb4['r'],_0x5ebeb4['g'],_0x5ebeb4['b']);let _0x181afb;if(currentBgMode==='random')_0x181afb=colorDisplayContainer['style']['backgroundColor'];else{const _0x2b4747=Math['floor'](Math['random']()*0x169),_0x1020a2=Math['floor'](Math['random']()*0x65),_0x472fd5=Math['floor'](Math['random']()*0x65),_0x430f9b=hsbToRgb(_0x2b4747,_0x1020a2,_0x472fd5);_0x181afb=rgbToHex(_0x430f9b['r'],_0x430f9b['g'],_0x430f9b['b']);}document['querySelector']('[data-bgtype=\x22same\x22]\x20.comparison-bg')['style']['backgroundColor']='#000000',document['querySelector']('[data-bgtype=\x22opposite\x22]\x20.comparison-bg')['style']['backgroundColor']=_0x3091e7,document['querySelector']('[data-bgtype=\x22random\x22]\x20.comparison-bg')['style']['backgroundColor']=_0x181afb,document['querySelector']('[data-bgtype=\x22gray\x22]\x20.comparison-bg')['style']['backgroundColor']='#808080',document['querySelector']('[data-bgtype=\x22white\x22]\x20.comparison-bg')['style']['backgroundColor']='#ffffff',updateComparisonColors();}function updateComparisonColors(){const _0x5e1c61=colorDisplay['style']['backgroundColor'];document['querySelectorAll']('.comparison-color')['forEach'](_0x4beeba=>{_0x4beeba['style']['backgroundColor']=_0x5e1c61;});}function calculateOppositeColor(_0x54968c){if(_0x54968c['startsWith']('rgb')){const _0x3b536a=_0x54968c['match'](/\d+/g);_0x54968c=rgbToHex(parseInt(_0x3b536a[0x0],parseInt(_0x3b536a[0x1]),parseInt(_0x3b536a[0x2])));}const _0x48dbe1=hexToRgb(_0x54968c);return rgbToHex(0xff-_0x48dbe1['r'],0xff-_0x48dbe1['g'],0xff-_0x48dbe1['b']);}document['getElementById']('connectColorsBtn')['addEventListener']('click',function(){isColorsConnected=!isColorsConnected;const _0x563872=document['getElementById']('colorConnector');if(isColorsConnected){const _0x4b350c=document['querySelector']('.comparison-item'),_0x12fbe3=document['querySelector']('.comparison-item:last-child'),_0x27e4ab=document['querySelector']('.comparison-container')['getBoundingClientRect'](),_0x352281=_0x4b350c['getBoundingClientRect'](),_0x39647b=_0x12fbe3['getBoundingClientRect']();_0x563872['style']['left']=_0x352281['left']-_0x27e4ab['left']+'px',_0x563872['style']['width']=_0x39647b['right']-_0x352281['left']+'px',_0x563872['style']['display']='block',_0x563872['style']['backgroundColor']=colorDisplay['style']['backgroundColor'],this['innerHTML']='<i\x20class=\x22fas\x20fa-unlink\x22></i>\x20取消连接';}else _0x563872['style']['display']='none',this['innerHTML']='<i\x20class=\x22fas\x20fa-link\x22></i>\x20连接颜色';}),newWindowBtn['addEventListener']('click',function(){openComparisonInNewWindow();});function openComparisonInNewWindow() { const newWindow = window.open('', '_blank', 'width=1200,height=800,scrollbars=yes'); const comparisonHTML = document.querySelector('.background-comparison-panel').innerHTML; const newDocument = ` <!DOCTYPE html> <html> <head> <title>环境差异比较 - 放大视图</title> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> <style> body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #2c3e50; color: #ecf0f1; padding: 0; margin: 0; height: 100vh; display: flex; flex-direction: column; overflow: hidden; } .comparison-container { flex: 1; width: 100vw !important; height: 100vh !important; max-width: 100% !important; padding: 20px !important; background: #2a2a2a !important; display: flex !important; flex-direction: row !important; justify-content: space-around !important; align-items: center !important; z-index: 9999 !important; flex-wrap: nowrap !important; box-sizing: border-box; } .comparison-item { margin: 0 15px !important; height: 80% !important; display: flex !important; flex-direction: column !important; justify-content: center !important; flex: 1 !important; } .comparison-bg { width: 90% !important; height: 60% !important; min-height: 150px !important; flex-shrink: 0 !important; border-radius: 8px; margin-bottom: 15px; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; } .comparison-color { width: 25% !important; height: 30% !important; min-height: 60px !important; border-radius: 5px; position: relative; z-index: 2; } .color-connector { position: absolute; top: 45%; left: 0; width: 100%; height: 30px; transform: translateY(-50%); z-index: 1; display: none; } .comparison-item span { font-size: 1.2rem !important; margin-top: 15px !important; color: #ecf0f1 !important; font-weight: bold !important; text-align: center; } .comparison-controls { position: absolute; bottom: 30px; left: 0; right: 0; margin-top: 20px !important; display: flex; justify-content: center; } .comparison-btn { padding: 12px 20px !important; background: #3498db; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1.1rem !important; margin: 0 10px !important; transition: all 0.2s; } .comparison-btn:hover { background: #2980b9; } h2 { text-align: center; color: #3498db; margin: 15px 0; font-size: 1.8rem; position: absolute; top: 0; left: 0; right: 0; z-index: 10; } </style> </head> <body> <h2>环境差异比较 - 放大视图</h2> <div class="background-comparison-panel"> ${comparisonHTML} </div> <script> document.addEventListener('DOMContentLoaded', function() { const connectColorsBtn = document.getElementById('connectColorsBtn'); const colorConnector = document.getElementById('colorConnector'); let isColorsConnected = false; function updateConnectorPosition() { const firstItem = document.querySelector('.comparison-item'); const lastItem = document.querySelector('.comparison-item:last-child'); const containerRect = document.querySelector('.comparison-container').getBoundingClientRect(); const firstRect = firstItem.getBoundingClientRect(); const lastRect = lastItem.getBoundingClientRect(); colorConnector.style.left = (firstRect.left - containerRect.left) + 'px'; colorConnector.style.width = (lastRect.right - firstRect.left) + 'px'; colorConnector.style.display = 'block'; colorConnector.style.backgroundColor = document.querySelector('.comparison-color').style.backgroundColor; } connectColorsBtn.addEventListener('click', function() { isColorsConnected = !isColorsConnected; if (isColorsConnected) { updateConnectorPosition(); this.innerHTML = '<i class="fas fa-unlink"></i> 取消连接'; } else { colorConnector.style.display = 'none'; this.innerHTML = '<i class="fas fa-link"></i> 连接颜色'; } }); window.addEventListener('resize', function() { if (isColorsConnected) { updateConnectorPosition(); } }); if (${isColorsConnected}) { setTimeout(function() { connectColorsBtn.click(); }, 100); } }); <\/script> </body> </html> `; newWindow.document.open(); newWindow.document.write(newDocument); newWindow.document.close();} generateBtn.addEventListener('click', generateRandomColor); showAnswerBtn.addEventListener('click', toggleAnswer); resetBtn.addEventListener('click', resetRanges); applyColorBtn.addEventListener('click', applyCustomColor); applyBgColorBtn.addEventListener('click', applyColorToBackground); resetBgColorBtn.addEventListener('click', resetBackgroundColor); convertBtn.addEventListener('click', convertAndCheckColor); hintBtn.addEventListener('click', function() { convertAndCheckColor(); showHint(); }); sameBgBtn.addEventListener('click', setBgSameAsCurrent); oppositeBgBtn.addEventListener('click', setBgOpposite); randomBgBtn.addEventListener('click', setBgRandom); grayBgBtn2.addEventListener('click', setBgGray); whiteBgBtn2.addEventListener('click', setBgWhite); easyBtn.addEventListener('click', function() { setDifficulty('easy'); }); mediumBtn.addEventListener('click', function() { setDifficulty('medium'); }); hardBtn.addEventListener('click', function() { setDifficulty('hard'); }); bindJudgeButtonEvents(); generateRandomColor(); window.addEventListener('resize', initCanvas); }); </script></body></html>
