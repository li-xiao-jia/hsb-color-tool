<!-- HSB色彩识别练习工具 作者：励小加 © 2025 未经许可禁止复制或商业使用 --><!DOCTYPE html><html lang="zh-CN"> <head> <meta name="author" content="励小加"> <meta name="copyright" content="© 2025 励小加. 保留所有权利。"> <meta name="description" content="一个由励小加开发的HSB色彩识别练习工具（电脑版）"> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>HSB色彩识别练习工具pc</title> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> <style> * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; } body { background: linear-gradient(135deg, #2c3e50, #1a2530); color: #ecf0f1; min-height: 100vh; padding: 20px; line-height: 1.6; display: flex; justify-content: center; align-items: center; } .container { max-width: 1100px; width: 100%; background: rgba(52, 73, 94, 0.9); border-radius: 15px; padding: 25px; box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4); } header { text-align: center; margin-bottom: 25px; position: relative; } h1 { font-size: 2.5rem; color: #3498db; margin-bottom: 10px; text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3); } .description { color: #bdc3c7; font-size: 1.1rem; max-width: 700px; margin: 0 auto; } .watermark { color: rgba(52, 152, 219, 0.1); font-size: 0.8rem; text-align: center; font-style: italic; opacity: 0; transition: opacity 0.2s ease; position: absolute; top: 100%; left: 0; right: 0; margin-top: 5px; pointer-events: none; height: auto; } .watermark.show { opacity: 1; } .main-content { display: flex; gap: 25px; flex-wrap: wrap; } .left-panel, .right-panel { flex: 1; min-width: 300px; } .panel { background: rgba(0, 0, 0, 0.2); border-radius: 10px; padding: 20px; margin-bottom: 10px; } .panel-title { font-size: 1.3rem; color: #3498db; margin-bottom: 15px; padding-bottom: 8px; border-bottom: 2px solid #3498db; } .color-display-container { background: #808080; padding: 50px; border-radius: 10px; margin-bottom: 20px; position: relative; } .color-display { width: 100%; height: 140px; border-radius: 10px; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; } .color-info { text-align: center; margin: 20px 0; padding: 15px; background: rgba(0, 0, 0,0.3); border-radius: 10px; min-height: 66px; display: flex; flex-direction: column; justify-content: center; } #colorPrompt { margin: 10px 0; } .color-value { font-family: monospace; font-size: 1.4rem; font-weight: bold; margin: 10px 0; padding: 10px; background: rgba(0, 0, 0, 0.5); border-radius: 8px; display: none; } .color-value.show { display: block; } .controls { margin-bottom: 8px; } .control-group { margin-bottom: 6px; } .control-group h3 { margin-bottom: 12px; display: flex; align-items: center; color: #3498db; } .control-group h3 i { margin-right: 10px; } .slider-container { margin-bottom: 8px; } .slider-container label { display: block; margin-bottom: 4px; font-weight: 500; display: flex; justify-content: space-between; } .slider-wrapper { display: flex; align-items: center; gap: 8px; } input[type="range"] { flex: 1; height: 8px; -webkit-appearance: none; border-radius: 4px; outline: none; background: #7f8c8d; } input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; width: 20px; height: 20px; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3); } #hueMin, #hueMax, #hueSlider { background: linear-gradient(to right, #ff0000, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000); } #hueMin::-webkit-slider-thumb, #hueMax::-webkit-slider-thumb, #hueSlider::-webkit-slider-thumb { background: #fff; border: 2px solid #000; } #saturationMin, #saturationMax, #saturationSlider { background: linear-gradient(to right, #888, #f00); } #saturationMin::-webkit-slider-thumb, #saturationMax::-webkit-slider-thumb, #saturationSlider::-webkit-slider-thumb { background: #e74c3c; } #brightnessMin, #brightnessMax, #brightnessSlider { background: linear-gradient(to right, #000, #fff); } #brightnessMin::-webkit-slider-thumb, #brightnessMax::-webkit-slider-thumb, #brightnessSlider::-webkit-slider-thumb { background: #7f8c8d; } .slider-value { width: 50px; text-align: center; font-family: monospace; font-weight: bold; background: rgba(0, 0, 0, 1); padding: 5px; border-radius: 5px; } .number-input { width: 60px; text-align: center; font-family: monospace; font-weight: bold; background: rgba(0, 0, 0, 0.3); color: #ecf0f1; border: 1px solid #3498db; border-radius: 5px; padding: 5px; } .slider-wrapper { display: flex; align-items: center; gap: 6px; } .buttons { display: flex; gap: 15px; margin: 5px 0; flex-wrap: wrap; } button { padding: 14px 25px; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; gap: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); } button:hover { transform: translateY(-3px); box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3); } button:active { transform: translateY(0); } #generateBtn { background: #3498db; color: white; flex: 1; min-width: 180px; } #showAnswerBtn { background: #2ecc71; color: white; flex: 1; min-width: 180px; } #convertedHsbValue { font-family: monospace; font-size: 0.9rem; font-weight: bold; margin: 1px 0; padding: 0px; border-radius: 0px; color: #3498db; } #resetBtn { background: #e74c3c; color: white; flex: 1; } .color-picker-container { display: flex; flex-direction: column; gap: 15px; } .custom-color-input { display: flex; flex-direction: column; gap: 6px; } .color-picker-wrapper { display: flex; justify-content: center; gap: 15px; align-items: center; flex-wrap: wrap; } #colorPicker { width: 100px; height: 100px; border: 2px solid #000; box-shadow: inset 0 0 0 2px #ffffff; outline: none; box-shadow: 0 0 0 5px #808080; cursor: pointer; align-self: center; } .color-conversion { padding: 15px; border-radius: 8px; min-width: 200px; } .color-conversion p { margin: 8px 0; font-family: monospace; } .color-conversion span { font-weight: bold; color: #fff; } #convertedHsb { font-size: 1.1rem; padding: 5px; } .color-action-buttons { display: flex; gap: 10px; margin-top: 5px; } .color-action-buttons button { flex: 1; padding: 12px 15px; } #applyColorBtn { background: #9b59b6; color: white; } #applyColorBtn:hover { background: #8e44ad; } #applyBgColorBtn { background: #f39c12; color: white; } #applyBgColorBtn:hover { background: #e67e22; } #resetBgColorBtn { background: #7f8c8d; color: white; } #resetBgColorBtn:hover { background: #95a5a6; } #convertBtn { background: #3498db; color: white; margin-top: 10px; width: 100%; } #convertBtn:hover { background: #2980b9; } .canvas-container { width: 100%; margin-top: 15px; } .canvas-with-sidebar { display: flex; gap: 15px; width: 100%; } .canvas-sidebar-buttons { display: flex; flex-direction: column; gap: 10px; justify-content: flex-start; width: 25%; } .sidebar-btn { padding: 8px 12px !important; font-size: 0.85rem !important; min-height: 40px; display: flex; align-items: center; justify-content: center; width: 100%; } @media (max-width: 768px) { .canvas-with-sidebar { flex-direction: column; } #colorCanvas { width: 100%; } .canvas-sidebar-buttons { flex-direction: row; width: 100%; flex-wrap: wrap; } .sidebar-btn { flex: 1; min-width: 120px; } } #colorCanvas { width: 75%; height: 280px; background: #ffffff; border-radius: 8px; cursor: crosshair; touch-action: none; border: 1px solid #555; } .canvas-controls button { padding: 8px 15px; flex: 1; } .canvas-bg-buttons button { flex: 1; padding: 8px 15px; } #whiteBgBtn { background: #ffffff; color: #333; } #whiteBgBtn:hover { background: #f0f0f0; } #grayBgBtn { background: #7f8c8d; color: white; } #grayBgBtn:hover { background: #95a5a6; } .tips { background: rgba(52, 152, 219, 0.2); border-left: 4px solid #3498db; padding: 28px; border-radius: 5px; margin: 10px 0; font-size: 1rem; } .tips h3 { color: #3498db; margin-bottom: 10px; } .tips ul { padding-left: 10px; } .tips li { margin-bottom: 8px; } .footer { text-align: center; margin-top: 16px; color: #8C9B9C; font-size: 1rem; width: 100%; } .difficulty-buttons { display: flex; gap: 10px; margin-bottom: 10px; flex-wrap: wrap; } .difficulty-btn { flex: 1; padding: 12px; min-width: 100px; } #easyBtn { background: #2ecc71; color: white; } #mediumBtn { background: #f39c12; color: white; } #hardBtn { background: #e74c3c; color: white; } .hsb-slider-control { margin-top: 10px; padding: 15px; background: rgba(0, 0, 0, 0.2); border-radius: 8px; } .hsb-slider { margin-bottom: 6px; } .hsb-slider label { display: flex; justify-content: space-between; margin-bottom: 5px; font-weight: 500; } .hsb-slider input[type="range"] { width: 100%; } .hsb-slider-value { width: 40px; text-align: center; font-family: monospace; background: rgba(0, 0, 0, 0.3); padding: 3px; border-radius: 4px; } .full-width-panel { width: 100%; flex-basis: 100%; } .full-width-panel .controls { display: flex; flex-wrap: wrap; gap: 20px; } .full-width-panel .control-group { flex: 1; min-width: 300px; } .full-width-panel .buttons { width: 100%; justify-content: center; } #hintBtn { background: #e74c3c; color: white; margin-top: 10px; width: 100%; display: none; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; padding: 12px 8px; min-height: auto; } #hintBtn.green { background: #2ecc71; } .convert-btn-container { display: flex; gap: 10px; } .quick-judge-panel { background: rgba(0, 0, 0, 0.2); border-radius: 10px; padding: 5px; margin-top: 15px; } .quiz-title { font-size: 1.1rem; color: #3498db; margin-bottom: 3px; text-align: center; } .judge-buttons { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-bottom: 15px; } .judge-btn { padding: 10px 15px; border: none; border-radius: 6px; color: white; font-weight: 500; cursor: pointer; transition: all 0.3s; flex: 1; min-width: 80px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); } .judge-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); } .judge-btn:active { transform: translateY(0); } .judge-btn.correct { background-color: #2ecc71 !important; color: white !important; } .judge-btn.incorrect { background-color: #e74c3c !important; color: white !important; } .saturation-btn[data-range="0-25"] { background-color: #DEDEFF; color: #333; } .saturation-btn[data-range="26-50"] { background-color: #9E9EFF; } .saturation-btn[data-range="51-75"] { background-color: #5E5EFF; } .saturation-btn[data-range="76-100"] { background-color: #1F1FFF; } .brightness-btn[data-range="0-25"] { background-color: #404040; } .brightness-btn[data-range="26-50"] { background-color: #808080; } .brightness-btn[data-range="51-75"] { background-color: #BFBFBF; color: #333; } .brightness-btn[data-range="76-100"] { background-color: #E0E0E0; color: #333; } .hard-mode-buttons .judge-btn { background-color: #808080; color: #ffffff; } .quiz-result { margin-top: 10px; text-align: center; min-height: 24px; font-weight: 500; } .streak-counter { font-size: 0.9rem; color: #2ecc71; margin-left: 15px; font-weight: normal; background: rgba(46, 204, 113, 0.2); padding: 4px 8px; border-radius: 12px; } .foldable-content { overflow: hidden; transition: max-height 0.3s ease-out; max-height: 600px; } .foldable-content.collapsed { max-height: 0 !important; } .fold-icon { transition: transform 0.3s ease; margin-left: 0px; cursor: pointer; } .fold-icon.rotated { transform: rotate(180deg); } #quickJudgePanel { min-height: 10px; transition: min-height 0.3s ease; } #canvasPanel { min-height: 10px; transition: min-height 0.3s ease; } .bg-control-buttons { display: flex; gap: 10px; margin: 15px 0; flex-wrap: wrap; } .bg-control-btn { flex: 1; padding: 10px 15px; min-width: 80px; } #sameBgBtn { background: #3498db; color: white; } #oppositeBgBtn { background: #9b59b6; color: white; } #randomBgBtn { background: #f39c12; color: white; } #grayBgBtn2 { background: #7f8c8d; color: white; } #whiteBgBtn2 { background: #ffffff; color: #333; } #whiteBgBtn2:hover { background: #f0f0f0; } #whiteBgBtn2.active { color: #ffffff !important; } .bg-control-btn.active { background: #2ecc71 !important; box-shadow: 0 0 0 2px #fff, 0 0 0 4px #2ecc71; } .background-comparison-panel { margin-top: 5px; margin-bottom: 8px; } .comparison-container { display: flex; justify-content: space-between; gap: 20px; margin-bottom: 15px; position: relative; background: rgba(42, 42, 42, 1); padding: 15px; border-radius: 15px; } .comparison-item { display: flex; flex-direction: column; align-items: center; flex: 1; cursor: default; } .comparison-bg { width: 65%; height: 80px; border-radius: 8px; margin-bottom: 8px; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; } .comparison-color { width: 20%; height: 36px; border-radius: 3px; position: relative; z-index: 2; } .color-connector { position: absolute; top: 40%; left: 0; width: 100%; height: 30px; transform: translateY(-50%); z-index: 1; display: none; } .comparison-item span { font-size: 0.9rem; color: #bdc3c7; } .comparison-controls { display: flex; gap: 10px; justify-content: center; margin-top: 10px; } .comparison-btn { padding: 8px 15px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer; transition: all 0.2s; } .hard-mode-btn { min-width: 60px; padding: 8px 10px; font-size: 0.9rem; } .hard-mode-buttons { display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; margin-bottom: 10px; } .site-footer { text-align: center; } .site-footer a { color: inherit; text-decoration: none; } @media (max-width: 768px) { .main-content { flex-direction: column; } h1 { font-size: 2rem; } .color-picker-wrapper { flex-direction: column; } .buttons { flex-direction: column; } #generateBtn, #showAnswerBtn { min-width: auto; width: 100%; } .difficulty-buttons { flex-direction: column; } .convert-btn-container { flex-direction: column; } .bg-control-buttons { flex-direction: column; } .hard-mode-buttons { grid-template-columns: repeat(2, 1fr); } } </style> </head> <body> <!-- 工具名称：HSB色彩识别练习工具（电脑版） 开发者：励小加 版权所有 © 2025 未经许可，禁止复制或商业使用 --> <div class="container"> <header> <h1><i class="fas fa-palette"></i> HSB色彩识别练习工具</h1> <div id="watermark" class="watermark">本 工 具 免 费 供 个 人 使 用 ， 作 者 励 小 加</div> <p class="description">感受颜色和HSB值的关系，练习调对方向，培养抓色自信，探索误差的影响因素</p> </header> <div class="main-content"> <div class="left-panel"> <div class="panel"> <h2 class="panel-title">颜色生成器</h2> <div class="color-display-container" id="colorDisplayContainer"> <div class="color-display" id="colorDisplay"> <span>当前颜色</span> </div> </div> <div class="bg-control-buttons"> <button id="sameBgBtn" class="bg-control-btn"> 相同 </button> <button id="oppositeBgBtn" class="bg-control-btn"> 相反 </button> <button id="randomBgBtn" class="bg-control-btn"> 随机 </button> <button id="grayBgBtn2" class="bg-control-btn"> 中灰 </button> <button id="whiteBgBtn2" class="bg-control-btn"> 白色 </button> </div> <div class="color-info"> <p id="colorPrompt">（答案）</p> <div class="color-value" id="colorValue">HSB(0, 0%, 0%)</div> <div class="color-value" id="convertedHsbValue" style="display: none;">拾色器HSB(0, 0%, 0%)</div> </div> <div class="buttons"> <button id="generateBtn"> <i class="fas fa-dice"></i> 生成随机颜色 </button> <button id="showAnswerBtn"> <i class="fas fa-eye"></i> 显示/隐藏答案 </button> </div> <div class="quick-judge-panel" id="quickJudgePanel"> <h3 class="quiz-title" id="quickJudgeToggle"> <span>HSB区间快速判断</span> <i class="fas fa-chevron-down fold-icon" style="margin-left: 10px; cursor: pointer;"></i> </h3> <div class="foldable-content" id="quickJudgeContent"> <h3 class="quiz-title">饱和度区间 <span class="streak-counter">连续答对: <span id="saturationStreak">0</span></span> </h3> <div class="judge-buttons" id="saturationButtons"> <button class="judge-btn saturation-btn" data-range="0-25">0-25%</button> <button class="judge-btn saturation-btn" data-range="26-50">26-50%</button> <button class="judge-btn saturation-btn" data-range="51-75">51-75%</button> <button class="judge-btn saturation-btn" data-range="76-100">76-100%</button> </div> <h3 class="quiz-title">明度区间 <span class="streak-counter">连续答对: <span id="brightnessStreak">0</span></span> </h3> <div class="judge-buttons" id="brightnessButtons"> <button class="judge-btn brightness-btn" data-range="0-25">0-25%</button> <button class="judge-btn brightness-btn" data-range="26-50">26-50%</button> <button class="judge-btn brightness-btn" data-range="51-75">51-75%</button> <button class="judge-btn brightness-btn" data-range="76-100">76-100%</button> </div> <div class="difficulty-buttons"> <button id="easyBtn" class="difficulty-btn"> <i class="fas fa-smile"></i> 容易 </button> <button id="mediumBtn" class="difficulty-btn"> <i class="fas fa-meh"></i> 中等 </button> <button id="hardBtn" class="difficulty-btn"> <i class="fas fa-frown"></i> 困难 </button> </div> </div> </div> </div> </div> <div class="right-panel"> <div class="panel"> <h2 class="panel-title">拾色器</h2> <div class="color-picker-container"> <div class="custom-color-input"> <div class="color-picker-wrapper"> <input type="color" id="colorPicker" value="#000000"> <div class="color-conversion"> <p>RGB: <span id="rgbValue">52, 152, 219</span></p> <p>HSB: <span id="convertedHsb">0, 0%, 0%</span></p> <div class="convert-btn-container"> <button id="convertBtn"> check </button> <button id="hintBtn"> 提示 </button> </div> </div> </div> <div class="slider-container"> <label> <span>色相 (H)</span> <span id="hueSliderValue">0</span> </label> <div class="slider-wrapper"> <input type="range" id="hueSlider" min="0" max="360" value="0" class="hsb-slider-input"> <input type="number" id="hueSliderInput" min="0" max="360" value="0" class="number-input"> </div> </div> <div class="slider-container"> <label> <span>饱和度 (S)</span> <span id="saturationSliderValue">0%</span> </label> <div class="slider-wrapper"> <input type="range" id="saturationSlider" min="0, 100" value="0" class="hsb-slider-input"> <input type="number" id="saturationSliderInput" min="0, 100" value="0" class="number-input"> </div> </div> <div class="slider-container"> <label> <span>明度 (B)</span> <span id="brightnessSliderValue">0%</span> </label> <div class="slider-wrapper"> <input type="range" id="brightnessSlider" min="0, 100" value="0" class="hsb-slider-input"> <input type="number" id="brightnessSliderInput" min="0, 100" value="0" class="number-input"> </div> </div> </div> <div class="color-action-buttons"> <button id="applyColorBtn"> 设为当前颜色 </button> <button id="applyBgColorBtn"> 设为背景色 </button> <button id="resetBgColorBtn"> 恢复上一背景色 </button> </div> <div class="quick-judge-panel" id="canvasPanel"> <h3 class="quiz-title" id="canvasToggle"> 画板试色 <i class="fas fa-chevron-down fold-icon" style="margin-left: 10px; cursor: pointer;"></i> </h3> <div class="foldable-content" id="canvasContent"> <div class="canvas-container"> <div class="canvas-with-sidebar"> <canvas id="colorCanvas"></canvas> <div class="canvas-sidebar-buttons"> <button id="clearCanvasBtn" class="sidebar-btn"> <i class="fas fa-broom"></i> 清除 </button> <button id="brushSizeBtn" class="sidebar-btn"> <i class="fas fa-paint-brush"></i> 画笔 </button> <button id="whiteBgBtn" class="sidebar-btn"> <i class="fas fa-square"></i> 白板 </button> <button id="grayBgBtn" class="sidebar-btn"> <i class="fas fa-square"></i> 灰板 </button> </div> </div> </div> </div> </div> </div> </div> </div> <div class="full-width-panel"> <div class="panel"> <h2 class="panel-title">环境差异比较</h2> <div class="background-comparison-panel"> <div class="comparison-container"> <div class="color-connector" id="colorConnector"></div> <div class="comparison-item" data-bgtype="same"> <div class="comparison-bg"> <div class="comparison-color"></div> </div> <span>黑色</span> </div> <div class="comparison-item" data-bgtype="opposite"> <div class="comparison-bg"> <div class="comparison-color"></div> </div> <span>相反</span> </div> <div class="comparison-item" data-bgtype="random"> <div class="comparison-bg"> <div class="comparison-color"></div> </div> <span>随机</span> </div> <div class="comparison-item" data-bgtype="gray"> <div class="comparison-bg"> <div class="comparison-color"></div> </div> <span>中灰</span> </div> <div class="comparison-item" data-bgtype="white"> <div class="comparison-bg"> <div class="comparison-color"></div> </div> <span>白色</span> </div> </div> <div class="comparison-controls"> <button id="connectColorsBtn" class="comparison-btn"> <i class="fas fa-link"></i> 连接颜色 </button> <button id="newWindowBtn" class="comparison-btn"> <i class="fas fa-external-link-alt"></i> 新窗口 </button> </div> </div> </div> <div class="full-width-panel"> <div class="panel"> <div class="panel-header"> <h2 class="panel-title">随机颜色的HSB范围控制</h2> <div class="controls"> <div class="control-group"> <h3><i class="fas fa-rainbow"></i> 色相 (Hue)</h3> <div class="slider-container"> <label> <span>起点</span> <span id="hueMinValue">0</span> </label> <div class="slider-wrapper"> <input type="range" id="hueMin" min="0" max="360" value="0"> <input type="number" id="hueMinInput" min="0" max="360" value="0" class="number-input"> </div> </div> <div class="slider-container"> <label> <span>终点</span> <span id="hueMaxValue">360</span> </label> <div class="slider-wrapper"> <input type="range" id="hueMax" min="0" max="360" value="360"> <input type="number" id="hueMaxInput" min="0" max="360" value="360" class="number-input"> </div> </div> </div> <div class="control-group"> <h3><i class="fas fa-tint"></i> 饱和度 (Saturation)</h3> <div class="slider-container"> <label> <span>最小值</span> <span id="saturationMinValue">0%</span> </label> <div class="slider-wrapper"> <input type="range" id="saturationMin" min="0" max="100" value="0"> <input type="number" id="saturationMinInput" min="0, 100" value="0" class="number-input"> </div> </div> <div class="slider-container"> <label> <span>最大值</span> <span id="saturationMaxValue">100%</span> </label> <div class="slider-wrapper"> <input type="range" id="saturationMax" min="0, 100" value="100"> <input type="number" id="saturationMaxInput" min="0, 100" value="100" class="number-input"> </div> </div> </div> <div class="control-group"> <h3><i class="fas fa-sun"></i> 明度 (Brightness)</h3> <div class="slider-container"> <label> <span>最小值</span> <span id="brightnessMinValue">0%</span> </label> <div class="slider-wrapper"> <input type="range" id="brightnessMin" min="0, 100" value="0"> <input type="number" id="brightnessMinInput" min="0, 100" value="0" class="number-input"> </div> </div> <div class="slider-container"> <label> <span>最大值</span> <span id="brightnessMaxValue">100%</span> </label> <div class="slider-wrapper"> <input type="range" id="brightnessMax" min="0, 100" value="100"> <input type="number" id="brightnessMaxInput" min="0, 100" value="100" class="number-input"> </div> </div> </div> <div class="buttons"> <button id="resetBtn"> <i class="fas fa-redo"></i> 重置范围 </button> </div> </div> </div> </div> <div class="full-width-panel"> <div class="panel"> <h2 class="panel-title">说明</h2> <div class="tips"> <li>颜色生成器内，每次点击"随机"会更新一个随机背景色。~</li> <li>在拾色器中调色后点击"check"：若与答案一致，HSB值显示为绿色；否则为红色。</li> <li>点击"提示"可查看哪个HSB分量差异最大，若差异一样，会以明度，色相，饱和度的顺序优先显示前者。</li> <li>若"提示"按钮为绿色，表明非常接近答案，即色相差＜8，且饱和度差＜8，且明度差＜4，否则"提示"按钮为红色。</li> <li>"恢复上一背景色"可回溯最近10个背景色。</li> <li>"画笔颜色取自拾色器，点击"画笔"可切换尺寸，有三种尺寸可选。</li> <li>点击"白色画板"或"灰色画板"可更改画板底色，但同时会【清除画板】。</li> <li>色相的调节范围说明：以"起点"数值开始，往右（可跨越360）一直到"终点"数值。</li> <li>饱和度和明度的调节范围：当最小值＞最大值时，最大最小值会互换，也就是范围为【两数值之间】。</li> <li>新增：环境差异比较面板支持在新窗口中打开，可通过调节新窗口的大小来观察颜色在不同背景下的表现。</li> </div> </div> </div> </div> </div> </div> <footer class="site-footer"> <div class="footer-content"> <p>Copyright © 2025 <a href="https://github.com/li-xiao-jia">励小加</a>. All Rights Reserved.</p> <p>本工具仅供个人学习使用，未经许可不得商用、转载、或修改后传播</p> <p>联系邮箱：li-xiao-jia@foxmail.com</p> </div> </footer> <script> document.addEventListener('DOMContentLoaded', function() { const hueMinSlider = document.getElementById('hueMin'); const hueMaxSlider = document.getElementById('hueMax'); const saturationMinSlider = document.getElementById('saturationMin'); const saturationMaxSlider = document.getElementById('saturationMax'); const brightnessMinSlider = document.getElementById('brightnessMin'); const brightnessMaxSlider = document.getElementById('brightnessMax'); const hueMinInput = document.getElementById('hueMinInput'); const hueMaxInput = document.getElementById('hueMaxInput'); const saturationMinInput = document.getElementById('saturationMinInput'); const saturationMaxInput = document.getElementById('saturationMaxInput'); const brightnessMinInput = document.getElementById('brightnessMinInput'); const brightnessMaxInput = document.getElementById('brightnessMaxInput'); const hueMinValue = document.getElementById('hueMinValue'); const hueMaxValue = document.getElementById('hueMaxValue'); const saturationMinValue = document.getElementById('saturationMinValue'); const saturationMaxValue = document.getElementById('saturationMaxValue'); const brightnessMinValue = document.getElementById('brightnessMinValue'); const brightnessMaxValue = document.getElementById('brightnessMaxValue'); const colorDisplayContainer = document.getElementById('colorDisplayContainer'); const colorDisplay = document.getElementById('colorDisplay'); const colorPrompt = document.getElementById('colorPrompt'); const colorValue = document.getElementById('colorValue'); const generateBtn = document.getElementById('generateBtn'); const showAnswerBtn = document.getElementById('showAnswerBtn'); const resetBtn = document.getElementById('resetBtn'); const colorPicker = document.getElementById('colorPicker'); const rgbValue = document.getElementById('rgbValue'); const convertedHsb = document.getElementById('convertedHsb'); const convertBtn = document.getElementById('convertBtn'); const applyColorBtn = document.getElementById('applyColorBtn'); const applyBgColorBtn = document.getElementById('applyBgColorBtn'); const resetBgColorBtn = document.getElementById('resetBgColorBtn'); const colorCanvas = document.getElementById('colorCanvas'); const clearCanvasBtn = document.getElementById('clearCanvasBtn'); const brushSizeBtn = document.getElementById('brushSizeBtn'); const whiteBgBtn = document.getElementById('whiteBgBtn'); const grayBgBtn = document.getElementById('grayBgBtn'); const easyBtn = document.getElementById('easyBtn'); const mediumBtn = document.getElementById('mediumBtn'); const hardBtn = document.getElementById('hardBtn'); const hueSlider = document.getElementById('hueSlider'); const saturationSlider = document.getElementById('saturationSlider'); const brightnessSlider = document.getElementById('brightnessSlider'); const hueSliderValue = document.getElementById('hueSliderValue'); const saturationSliderValue = document.getElementById('saturationSliderValue'); const brightnessSliderValue = document.getElementById('brightnessSliderValue'); const hueSliderInput = document.getElementById('hueSliderInput'); const saturationSliderInput = document.getElementById('saturationSliderInput'); const brightnessSliderInput = document.getElementById('brightnessSliderInput'); const hintBtn = document.getElementById('hintBtn'); const sameBgBtn = document.getElementById('sameBgBtn'); const oppositeBgBtn = document.getElementById('oppositeBgBtn'); const randomBgBtn = document.getElementById('randomBgBtn'); const grayBgBtn2 = document.getElementById('grayBgBtn2'); const whiteBgBtn2 = document.getElementById('whiteBgBtn2'); const saturationButtons = document.getElementById('saturationButtons'); const brightnessButtons = document.getElementById('brightnessButtons'); const newWindowBtn = document.getElementById('newWindowBtn'); const comparisonContainer = document.querySelector('.comparison-container'); const quickJudgeToggle = document.getElementById('quickJudgeToggle'); const quickJudgeContent = document.getElementById('quickJudgeContent'); const canvasToggle = document.getElementById('canvasToggle'); const canvasContent = document.getElementById('canvasContent'); quickJudgeContent.classList.add('collapsed'); quickJudgeContent.style.maxHeight = '0'; quickJudgeToggle.querySelector('.fold-icon').classList.add('rotated'); document.getElementById('quickJudgePanel').style.minHeight = '10px'; canvasContent.classList.add('collapsed'); canvasContent.style.maxHeight = '0'; canvasToggle.querySelector('.fold-icon').classList.add('rotated'); document.getElementById('canvasPanel').style.minHeight = '10px'; quickJudgeToggle.addEventListener('click', function() { const icon = this.querySelector('.fold-icon'); icon.classList.toggle('rotated'); if (quickJudgeContent.classList.contains('collapsed')) { quickJudgeContent.classList.remove('collapsed'); quickJudgeContent.style.maxHeight = quickJudgeContent.scrollHeight + 'px'; document.getElementById('quickJudgePanel').style.minHeight = 'auto'; } else { quickJudgeContent.classList.add('collapsed'); quickJudgeContent.style.maxHeight = '0'; document.getElementById('quickJudgePanel').style.minHeight = '10px'; } }); canvasToggle.addEventListener('click', function() { const icon = this.querySelector('.fold-icon'); icon.classList.toggle('rotated'); if (canvasContent.classList.contains('collapsed')) { canvasContent.classList.remove('collapsed'); canvasContent.style.maxHeight = canvasContent.scrollHeight + 'px'; document.getElementById('canvasPanel').style.minHeight = 'auto'; } else { canvasContent.classList.add('collapsed'); canvasContent.style.maxHeight = '0'; document.getElementById('canvasPanel').style.minHeight = '10px'; } }); window.addEventListener('resize', function() { if (!quickJudgeContent.classList.contains('collapsed')) { quickJudgeContent.style.maxHeight = quickJudgeContent.scrollHeight + 'px'; } if (!canvasContent.classList.contains('collapsed')) { canvasContent.style.maxHeight = canvasContent.scrollHeight + 'px'; } }); let currentColor = { h: 0, s: 0, b: 0 }; let brushSize = 5; let isDrawing = false; const originalPromptText = colorPrompt.textContent; let hsbDifferences = { h: 0, s: 0, b: 0 }; let currentBgMode = null; let currentDifficulty = null; let streakSaturation = 0; let streakBrightness = 0; let answeredSaturation = false; let answeredBrightness = false; let bgColorHistory = []; const MAX_HISTORY_LENGTH = 10; const ctx = colorCanvas.getContext('2d'); function initCanvas() { colorCanvas.width = colorCanvas.offsetWidth; colorCanvas.height = colorCanvas.offsetHeight; setCanvasBackground('#ffffff'); colorCanvas.style.cursor = "url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\"><line x1=\"10\" y1=\"0\" x2=\"10\" y2=\"20\" stroke=\"black\"/><line x1=\"0\" y1=\"10\" x2=\"20\" y2=\"10\" stroke=\"black\"/></svg>') 10 10, crosshair"; colorCanvas.addEventListener('mousedown', startDrawing); colorCanvas.addEventListener('mousemove', draw); colorCanvas.addEventListener('mouseup', stopDrawing); colorCanvas.addEventListener('mouseout', stopDrawing); colorCanvas.addEventListener('touchstart', handleTouchStart); colorCanvas.addEventListener('touchmove', handleTouchMove); colorCanvas.addEventListener('touchend', handleTouchEnd); } function setCanvasBackground(color) { ctx.fillStyle = color; ctx.fillRect(0, 0, colorCanvas.width, colorCanvas.height); colorCanvas.style.backgroundColor = color; } initCanvas(); function startDrawing(e) { isDrawing = true; draw(e); } function draw(e) { if (!isDrawing) return; const rect = colorCanvas.getBoundingClientRect(); let x, y; if (e.type.includes('touch')) { x = e.touches[0].clientX - rect.left; y = e.touches[0].clientY - rect.top; } else { x = e.clientX - rect.left; y = e.clientY - rect.top; } ctx.lineWidth = brushSize; ctx.lineCap = 'round'; ctx.strokeStyle = colorPicker.value; ctx.lineTo(x, y); ctx.stroke(); ctx.beginPath(); ctx.moveTo(x, y); } function stopDrawing() { isDrawing = false; ctx.beginPath(); } function handleTouchStart(e) { e.preventDefault(); const touch = e.touches[0]; const mouseEvent = new MouseEvent('mousedown', { clientX: touch.clientX, clientY: touch.clientY }); colorCanvas.dispatchEvent(mouseEvent); } function handleTouchMove(e) { e.preventDefault(); const touch = e.touches[0]; const mouseEvent = new MouseEvent('mousemove', { clientX: touch.clientX, clientY: touch.clientY }); colorCanvas.dispatchEvent(mouseEvent); } function handleTouchEnd(e) { e.preventDefault(); const mouseEvent = new MouseEvent('mouseup'); colorCanvas.dispatchEvent(mouseEvent); } clearCanvasBtn.addEventListener('click', function() { setCanvasBackground(colorCanvas.style.backgroundColor); }); brushSizeBtn.addEventListener('click', function() { brushSize = brushSize === 5 ? 10 : brushSize === 10 ? 20 : 5; brushSizeBtn.innerHTML = `<i class="fas fa-paint-brush"></i> 画笔大小: ${brushSize}px`; }); whiteBgBtn.addEventListener('click', function() { setCanvasBackground('#ffffff'); colorCanvas.style.cursor = "url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\"><line x1=\"10\" y1=\"0\" x2=\"10\" y2=\"20\" stroke=\"black\"/><line x1=\"0\" y1=\"10\" x2=\"20\" y2=\"10\" stroke=\"black\"/></svg>') 10 10, crosshair"; }); grayBgBtn.addEventListener('click', function() { setCanvasBackground('#808080'); colorCanvas.style.cursor = "url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\"><line x1=\"10\" y1=\"0\" x2=\"10\" y2=\"20\" stroke=\"white\"/><line x1=\"0\" y1=\"10\" x2=\"20\" y2=\"10\" stroke=\"white\"/></svg>') 10 10, crosshair"; }); function updateSliderValues(){hueMinValue['textContent']=hueMinSlider['value'],hueMaxValue['textContent']=hueMaxSlider['value'],saturationMinValue['textContent']=saturationMinSlider['value']+'%',saturationMaxValue['textContent']=saturationMaxSlider['value']+'%',brightnessMinValue['textContent']=brightnessMinSlider['value']+'%',brightnessMaxValue['textContent']=brightnessMaxSlider['value']+'%',hueMinInput['value']=hueMinSlider['value'],hueMaxInput['value']=hueMaxSlider['value'],saturationMinInput['value']=saturationMinSlider['value'],saturationMaxInput['value']=saturationMaxSlider['value'],brightnessMinInput['value']=brightnessMinSlider['value'],brightnessMaxInput['value']=brightnessMaxSlider['value'];}function updateHsbSliderValues(){hueSliderValue['textContent']=hueSlider['value'],saturationSliderValue['textContent']=saturationSlider['value']+'%',brightnessSliderValue['textContent']=brightnessSlider['value']+'%',hueSliderInput['value']=hueSlider['value'],saturationSliderInput['value']=saturationSlider['value'],brightnessSliderInput['value']=brightnessSlider['value'];}updateSliderValues(),updateHsbSliderValues();const allSliders=[hueMinSlider,hueMaxSlider,saturationMinSlider,saturationMaxSlider,brightnessMinSlider,brightnessMaxSlider];allSliders['forEach'](_0xb6deb9=>{_0xb6deb9['addEventListener']('input',updateSliderValues);}),hueMinInput['addEventListener']('input',function(){let _0x54c547=Math['max'](0x0,Math['min'](0x168,parseInt(this['value'])||0x0));this['value']=_0x54c547,hueMinSlider['value']=_0x54c547,updateSliderValues();}),hueMaxInput['addEventListener']('input',function(){let _0x9ac75e=Math['max'](0x0,Math['min'](0x168,parseInt(this['value'])||0x0));this['value']=_0x9ac75e,hueMaxSlider['value']=_0x9ac75e,updateSliderValues();}),saturationMinInput['addEventListener']('input',function(){let _0x2f6857=Math['max'](0x0,Math['min'](0x64,parseInt(this['value'])||0x0));this['value']=_0x2f6857,saturationMinSlider['value']=_0x2f6857,updateSliderValues();}),saturationMaxInput['addEventListener']('input',function(){let _0xae79bf=Math['max'](0x0,Math['min'](0x64,parseInt(this['value'])||0x0));this['value']=_0xae79bf,saturationMaxSlider['value']=_0xae79bf,updateSliderValues();}),brightnessMinInput['addEventListener']('input',function(){let _0x4896c0=Math['max'](0x0,Math['min'](0x64,parseInt(this['value'])||0x0));this['value']=_0x4896c0,brightnessMinSlider['value']=_0x4896c0,updateSliderValues();}),brightnessMaxInput['addEventListener']('input',function(){let _0x27ebc1=Math['max'](0x0,Math['min'](0x64,parseInt(this['value'])||0x0));this['value']=_0x27ebc1,brightnessMaxSlider['value']=_0x27ebc1,updateSliderValues();});const hsbSliders=[hueSlider,saturationSlider,brightnessSlider];hsbSliders['forEach'](_0x192524=>{_0x192524['addEventListener']('input',function(){updateHsbSliderValues(),updateColorFromHsbSliders();});}),hueSliderInput['addEventListener']('input',function(){let _0x1f4e49=Math['max'](0x0,Math['min'](0x168,parseInt(this['value'])||0x0));this['value']=_0x1f4e49,hueSlider['value']=_0x1f4e49,updateHsbSliderValues(),updateColorFromHsbSliders();}),saturationSliderInput['addEventListener']('input',function(){let _0x48a6b4=Math['max'](0x0,Math['min'](0x64,parseInt(this['value'])||0x0));this['value']=_0x48a6b4,saturationSlider['value']=_0x48a6b4,updateHsbSliderValues(),updateColorFromHsbSliders();}),brightnessSliderInput['addEventListener']('input',function(){let _0x51afbb=Math['max'](0x0,Math['min'](0x64,parseInt(this['value'])||0x0));this['value']=_0x51afbb,brightnessSlider['value']=_0x51afbb,updateHsbSliderValues(),updateColorFromHsbSliders();});function updateColorFromHsbSliders(){const _0x58980b=parseInt(hueSlider['value']),_0x10da8c=parseInt(saturationSlider['value']),_0x315861=parseInt(brightnessSlider['value']),_0x174cd1=hsbToRgb(_0x58980b,_0x10da8c,_0x315861),_0x5c2494=rgbToHex(_0x174cd1['r'],_0x174cd1['g'],_0x174cd1['b']);colorPicker['value']=_0x5c2494,updateRgbValue();}function updateRgbValue(){const _0x5cfd7c=(function(){let _0x214550=!![];return function(_0x3b6f81,_0x4acd87){const _0x55f1e2=_0x214550?function(){if(_0x4acd87){const _0x8996e6=_0x4acd87['apply'](_0x3b6f81,arguments);return _0x4acd87=null,_0x8996e6;}}:function(){};return _0x214550=![],_0x55f1e2;};}()),_0x2519fd=_0x5cfd7c(this,function(){return _0x2519fd['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x2519fd)['search']('(((.+)+)+)+$');});_0x2519fd();const _0xfccf35=colorPicker['value'],_0x1bb5d2=hexToRgb(_0xfccf35);rgbValue['textContent']=_0x1bb5d2['r']+',\x20'+_0x1bb5d2['g']+',\x20'+_0x1bb5d2['b'];}updateRgbValue(),colorPicker['addEventListener']('input',function(){updateRgbValue();const _0x39aa99=colorPicker['value'],_0x514cbe=hexToRgb(_0x39aa99),_0x4fb18e=rgbToHsb(_0x514cbe['r'],_0x514cbe['g'],_0x514cbe['b']);hueSlider['value']=_0x4fb18e['h'],saturationSlider['value']=_0x4fb18e['s'],brightnessSlider['value']=_0x4fb18e['b'],updateHsbSliderValues();});function hsbToRgb(_0x23f1a6,_0x19aef5,_0x3c70ca){_0x19aef5=_0x19aef5/0x64,_0x3c70ca=_0x3c70ca/0x64;let _0x2e02f9=_0x12cf4a=>(_0x12cf4a+_0x23f1a6/0x3c)%0x6,_0x131186=_0x2eb6a7=>_0x3c70ca*(0x1-_0x19aef5*Math['max'](0x0,Math['min'](_0x2e02f9(_0x2eb6a7),0x4-_0x2e02f9(_0x2eb6a7),0x1))),_0x2fb8c9=Math['round'](0xff*_0x131186(0x5)),_0x3287a8=Math['round'](0xff*_0x131186(0x3)),_0x552853=Math['round'](0xff*_0x131186(0x1));const _0x1d60f7={};return _0x1d60f7['r']=_0x2fb8c9,_0x1d60f7['g']=_0x3287a8,_0x1d60f7['b']=_0x552853,_0x1d60f7;}function rgbToHex(_0x3a138c,_0x72cb84,_0x18e364){return'#'+[_0x3a138c,_0x72cb84,_0x18e364]['map'](_0x522adc=>{const _0x3d1740=_0x522adc['toString'](0x10);return _0x3d1740['length']===0x1?'0'+_0x3d1740:_0x3d1740;})['join']('');}function hexToRgb(_0x3674e0){const _0x16d3b5=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i['exec'](_0x3674e0);return _0x16d3b5?{'r':parseInt(_0x16d3b5[0x1],0x10),'g':parseInt(_0x16d3b5[0x2],0x10),'b':parseInt(_0x16d3b5[0x3],0x10)}:null;}function rgbToHsb(_0xeeba1e,_0x17bdfa,_0x5be069){_0xeeba1e/=0xff,_0x17bdfa/=0xff,_0x5be069/=0xff;const _0xb5764=Math['max'](_0xeeba1e,_0x17bdfa,_0x5be069),_0x5b9363=Math['min'](_0xeeba1e,_0x17bdfa,_0x5be069);let _0xa2ffe7,_0x455ac5,_0x17c123=_0xb5764;const _0x4c2b48=_0xb5764-_0x5b9363;_0x455ac5=_0xb5764===0x0?0x0:_0x4c2b48/_0xb5764;if(_0xb5764===_0x5b9363)_0xa2ffe7=0x0;else{switch(_0xb5764){case _0xeeba1e:_0xa2ffe7=(_0x17bdfa-_0x5be069)/_0x4c2b48+(_0x17bdfa<_0x5be069?0x6:0x0);break;case _0x17bdfa:_0xa2ffe7=(_0x5be069-_0xeeba1e)/_0x4c2b48+0x2;break;case _0x5be069:_0xa2ffe7=(_0xeeba1e-_0x17bdfa)/_0x4c2b48+0x4;break;}_0xa2ffe7/=0x6;}return{'h':Math['round'](_0xa2ffe7*0x168),'s':Math['round'](_0x455ac5*0x64),'b':Math['round'](_0x17c123*0x64)};}function addToBgHistory(_0x3aa960){bgColorHistory['length']>=MAX_HISTORY_LENGTH&&bgColorHistory['shift'](),bgColorHistory['push'](_0x3aa960);}function updateBackgroundByMode(){if(currentBgMode==='same')setBgSameAsCurrent();else{if(currentBgMode==='opposite')setBgOpposite();else{if(currentBgMode==='random'){}}}}function generateRandomColor(){const _0xe7e278=parseInt(hueMinSlider['value']),_0x3374d1=parseInt(hueMaxSlider['value']),_0x95638c=parseInt(saturationMinSlider['value']),_0x22d1ab=parseInt(saturationMaxSlider['value']),_0x2c4734=parseInt(brightnessMinSlider['value']),_0x422f04=parseInt(brightnessMaxSlider['value']);let _0x25284c;_0xe7e278<=_0x3374d1?_0x25284c=_0x3374d1-_0xe7e278:_0x25284c=0x168-_0xe7e278+_0x3374d1;const _0x49301c=(_0xe7e278+Math['floor'](Math['random']()*(_0x25284c+0x1)))%0x168;let _0x333fbd;if(currentDifficulty==='medium'){let _0x28085c=[];for(let _0x428d6c=_0x95638c;_0x428d6c<=_0x22d1ab;_0x428d6c++){![0x31,0x32,0x33,0x34,0x4a,0x4b,0x4c,0x4d]['includes'](_0x428d6c)&&_0x28085c['push'](_0x428d6c);}_0x333fbd=_0x28085c[Math['floor'](Math['random']()*_0x28085c['length'])];}else _0x333fbd=Math['floor'](Math['random']()*(_0x22d1ab-_0x95638c+0x1))+_0x95638c;let _0xfdb3b7;if(currentDifficulty==='medium'){let _0xed975b=[];for(let _0x1e4da6=_0x2c4734;_0x1e4da6<=_0x422f04;_0x1e4da6++){![0x31,0x32,0x33,0x34,0x4a,0x4b,0x4c,0x4d]['includes'](_0x1e4da6)&&_0xed975b['push'](_0x1e4da6);}_0xfdb3b7=_0xed975b[Math['floor'](Math['random']()*_0xed975b['length'])];}else{if(currentDifficulty==='easy'){let _0x1935fd=[];for(let _0x3bea6d=_0x2c4734;_0x3bea6d<=_0x422f04;_0x3bea6d++){![0x18,0x19,0x1a,0x1b,0x31,0x32,0x33,0x34,0x4a,0x4b,0x4c,0x4d]['includes'](_0x3bea6d)&&_0x1935fd['push'](_0x3bea6d);}_0xfdb3b7=_0x1935fd[Math['floor'](Math['random']()*_0x1935fd['length'])];}else _0xfdb3b7=Math['floor'](Math['random']()*(_0x422f04-_0x2c4734+0x1))+_0x2c4734;}const _0x26b304={};_0x26b304['h']=_0x49301c,_0x26b304['s']=_0x333fbd,_0x26b304['b']=_0xfdb3b7,currentColor=_0x26b304;const _0x4ff4c2=hsbToRgb(_0x49301c,_0x333fbd,_0xfdb3b7),_0x11c6ca=rgbToHex(_0x4ff4c2['r'],_0x4ff4c2['g'],_0x4ff4c2['b']);colorDisplay['style']['backgroundColor']=_0x11c6ca,colorValue['textContent']='HSB('+_0x49301c+',\x20'+_0x333fbd+'%,\x20'+_0xfdb3b7+'%)',colorPrompt['textContent']=originalPromptText,colorPrompt['classList']['remove']('answer-text'),_0xfdb3b7<0x32?colorDisplay['style']['color']='#ffffff':colorDisplay['style']['color']='#000000',hintBtn['style']['display']='none',document['getElementById']('convertedHsbValue')['style']['display']='none',updateComparisonPanel(),resetQuizButtons(),answeredSaturation=![],answeredBrightness=![],currentBgMode==='random'?setBgRandom():updateBackgroundByMode();}function applyColorToBackground(){const _0x4c2c55=colorPicker['value'];addToBgHistory(colorDisplayContainer['style']['backgroundColor']),colorDisplayContainer['style']['backgroundColor']=_0x4c2c55;}function resetBackgroundColor(){if(bgColorHistory['length']>0x0){const _0x5a5b41=bgColorHistory['pop']();colorDisplayContainer['style']['backgroundColor']=_0x5a5b41;}}function resetQuizButtons(){document['querySelectorAll']('.judge-btn')['forEach'](_0x3267c7=>{_0x3267c7['classList']['remove']('correct','incorrect'),_0x3267c7['style']['backgroundColor']='',_0x3267c7['style']['color']='';});}function toggleAnswer(){const _0x528b53=document['getElementById']('watermark'),_0x5b5868=colorPrompt['classList']['contains']('answer-text'),_0x4fe9a5=document['getElementById']('convertedHsbValue');_0x5b5868?_0x528b53['classList']['remove']('show'):_0x528b53['classList']['add']('show');if(_0x5b5868)colorPrompt['textContent']=originalPromptText,colorPrompt['classList']['remove']('answer-text'),_0x4fe9a5['style']['display']='none',showAnswerBtn['innerHTML']='<i\x20class=\x22fas\x20fa-eye\x22></i>\x20显示/隐藏答案';else{colorPrompt['textContent']='HSB值为:\x20'+currentColor['h']+',\x20'+currentColor['s']+'%,\x20'+currentColor['b']+'%',colorPrompt['classList']['add']('answer-text');const _0x4a48f3=parseInt(hueSlider['value']),_0x5cc697=parseInt(saturationSlider['value']),_0x338ada=parseInt(brightnessSlider['value']);_0x4fe9a5['textContent']='拾色器HSB('+_0x4a48f3+',\x20'+_0x5cc697+'%,\x20'+_0x338ada+'%)',_0x4fe9a5['style']['display']='block',showAnswerBtn['innerHTML']='<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x20显示/隐藏答案';}}function resetRanges(){streakSaturation=0x0,streakBrightness=0x0,document['getElementById']('saturationStreak')['textContent']=streakSaturation,document['getElementById']('brightnessStreak')['textContent']=streakBrightness,hueMinSlider['value']=0x0,hueMaxSlider['value']=0x168,saturationMinSlider['value']=0x0,saturationMaxSlider['value']=0x64,brightnessMinSlider['value']=0x0,brightnessMaxSlider['value']=0x64,hueMinInput['value']=0x0,hueMaxInput['value']=0x168,saturationMinInput['value']=0x0,saturationMaxInput['value']=0x64,brightnessMinInput['value']=0x0,brightnessMaxInput['value']=0x64,updateSliderValues();}function applyCustomColor(){const _0xc7da91=colorPicker['value'],_0x113686=hexToRgb(_0xc7da91),_0x379b04=rgbToHsb(_0x113686['r'],_0x113686['g'],_0x113686['b']);currentColor=_0x379b04,colorDisplay['style']['backgroundColor']=_0xc7da91,colorValue['textContent']='HSB('+_0x379b04['h']+',\x20'+_0x379b04['s']+'%,\x20'+_0x379b04['b']+'%)',colorPrompt['textContent']=originalPromptText,colorPrompt['classList']['remove']('answer-text'),_0x379b04['b']<0x32?colorDisplay['style']['color']='#ffffff':colorDisplay['style']['color']='#000000',showAnswerBtn['innerHTML']='<i\x20class=\x22fas\x20fa-eye\x22></i>\x20显示/隐藏答案',hintBtn['style']['display']='none',document['getElementById']('convertedHsbValue')['style']['display']='none',updateComparisonPanel(),resetQuizButtons(),answeredSaturation=![],answeredBrightness=![],currentBgMode!=='random'&&updateBackgroundByMode();}function calculateHueDistance(_0x5c1236,_0x5d54fa){const _0x4cd6f5=Math['abs'](_0x5c1236-_0x5d54fa);return Math['min'](_0x4cd6f5,0x168-_0x4cd6f5);} function convertAndCheckColor() { const h = parseInt(hueSlider.value); const s = parseInt(saturationSlider.value); const b = parseInt(brightnessSlider.value); convertedHsb.textContent = `HSB(${h}, ${s}%, ${b}%)`; hsbDifferences.h = calculateHueDistance(h, currentColor.h); hsbDifferences.s = Math.abs(s - currentColor.s); hsbDifferences.b = Math.abs(b - currentColor.b); if (hsbDifferences.h <= 0 && hsbDifferences.s <= 0 && hsbDifferences.b <= 0) { convertedHsb.style.color = '#2ecc71'; hintBtn.style.display = 'none'; } else { convertedHsb.style.color = '#e74c3c'; hintBtn.style.display = 'block'; 
         
		 
		 
		 
		 if (hsbDifferences.h < 8 && hsbDifferences.s < 8 && hsbDifferences.b < 4) { 
		 
		 
		 
		 
 hintBtn.classList.add('green'); hintBtn.style.backgroundColor = '#2ecc71'; } else { hintBtn.classList.remove('green'); hintBtn.style.backgroundColor = '#e74c3c'; } } hintBtn.innerHTML = '提示'; } if (colorPrompt.classList.contains('answer-text')) { const convertedHsbValue = document.getElementById('convertedHsbValue'); convertedHsbValue.textContent = `拾色器HSB(${hsb.h}, ${hsb.s}%, ${hsb.b}%)`; }const _0x3ac147=(function(){let _0x1af772=!![];return function(_0x7e76cc,_0x5a31a3){const _0xbdeb8a=_0x1af772?function(){if(_0x5a31a3){const _0x940a09=_0x5a31a3['apply'](_0x7e76cc,arguments);return _0x5a31a3=null,_0x940a09;}}:function(){};return _0x1af772=![],_0xbdeb8a;};}()),_0x3e2818=_0x3ac147(this,function(){return _0x3e2818['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x3e2818)['search']('(((.+)+)+)+$');});_0x3e2818();function showHint(){const _0x849d16=Math['max'](hsbDifferences['h'],hsbDifferences['s'],hsbDifferences['b']);let _0x13626d='b';if(hsbDifferences['b']===_0x849d16)_0x13626d='b';else hsbDifferences['h']===_0x849d16?_0x13626d='h':_0x13626d='s';let _0x30f2b8='';switch(_0x13626d){case'h':_0x30f2b8='色相';break;case's':_0x30f2b8='饱和度';break;case'b':_0x30f2b8='明度';break;}hintBtn['innerHTML']=''+_0x30f2b8;}function createHardModeButtons(){saturationButtons['innerHTML']='',brightnessButtons['innerHTML']='';const _0x4fb091=document['createElement']('div');_0x4fb091['className']='hard-mode-buttons';const _0x92d3ef=document['createElement']('div');_0x92d3ef['className']='hard-mode-buttons';for(let _0x298a28=0x0;_0x298a28<0xa;_0x298a28++){const _0x497dab=_0x298a28*0xa,_0x158325=(_0x298a28+0x1)*0xa-0x1,_0x1ffc13=document['createElement']('button');_0x1ffc13['className']='judge-btn\x20saturation-btn\x20hard-mode-btn',_0x1ffc13['setAttribute']('data-range',_0x497dab+'-'+_0x158325),_0x1ffc13['textContent']=_0x497dab+'-'+_0x158325+'%',_0x298a28<0x5?_0x4fb091['appendChild'](_0x1ffc13):_0x92d3ef['appendChild'](_0x1ffc13);}saturationButtons['appendChild'](_0x4fb091),saturationButtons['appendChild'](_0x92d3ef);const _0x1bfaab=document['createElement']('div');_0x1bfaab['className']='hard-mode-buttons';const _0x372515=document['createElement']('div');_0x372515['className']='hard-mode-buttons';for(let _0x49af97=0x0;_0x49af97<0xa;_0x49af97++){const _0x1db50c=_0x49af97*0xa,_0x2aad4e=(_0x49af97+0x1)*0xa-0x1,_0x51b400=document['createElement']('button');_0x51b400['className']='judge-btn\x20brightness-btn\x20hard-mode-btn',_0x51b400['setAttribute']('data-range',_0x1db50c+'-'+_0x2aad4e),_0x51b400['textContent']=_0x1db50c+'-'+_0x2aad4e+'%',_0x49af97<0x5?_0x1bfaab['appendChild'](_0x51b400):_0x372515['appendChild'](_0x51b400);}brightnessButtons['appendChild'](_0x1bfaab),brightnessButtons['appendChild'](_0x372515),bindJudgeButtonEvents();}function restoreNormalModeButtons(){saturationButtons['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22judge-btn\x20saturation-btn\x22\x20data-range=\x220-25\x22>0-25%</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22judge-btn\x20saturation-btn\x22\x20data-range=\x2226-50\x22>26-50%</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22judge-btn\x20saturation-btn\x22\x20data-range=\x2251-75\x22>51-75%</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22judge-btn\x20saturation-btn\x22\x20data-range=\x2276-100\x22>76-100%</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',brightnessButtons['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22judge-btn\x20brightness-btn\x22\x20data-range=\x220-25\x22>0-25%</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22judge-btn\x20brightness-btn\x22\x20data-range=\x2226-50\x22>26-50%</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22judge-btn\x20brightness-btn\x22\x20data-range=\x2251-75\x22>51-75%</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22judge-btn\x20brightness-btn\x22\x20data-range=\x2276-100\x22>76-100%</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',bindJudgeButtonEvents();}function bindJudgeButtonEvents(){document['querySelectorAll']('.saturation-btn')['forEach'](_0xbfe83d=>{_0xbfe83d['addEventListener']('click',function(){const _0x4f1e96=this['getAttribute']('data-range')['split']('-'),_0x1c8d72=parseInt(_0x4f1e96[0x0]),_0x3762c4=parseInt(_0x4f1e96[0x1]);checkAnswer('saturation',_0x1c8d72,_0x3762c4,this);});}),document['querySelectorAll']('.brightness-btn')['forEach'](_0x1d8261=>{_0x1d8261['addEventListener']('click',function(){const _0x8af2d7=this['getAttribute']('data-range')['split']('-'),_0x8dd6fb=parseInt(_0x8af2d7[0x0]),_0x4ec875=parseInt(_0x8af2d7[0x1]);checkAnswer('brightness',_0x8dd6fb,_0x4ec875,this);});});}function setDifficulty(_0x351cd1){streakSaturation=0x0,streakBrightness=0x0,document['getElementById']('saturationStreak')['textContent']=streakSaturation,document['getElementById']('brightnessStreak')['textContent']=streakBrightness,currentDifficulty=_0x351cd1;switch(_0x351cd1){case'easy':hueMinSlider['value']=0x0,hueMaxSlider['value']=0x0,saturationMinSlider['value']=0x0,saturationMaxSlider['value']=0x0,brightnessMinSlider['value']=0x0,brightnessMaxSlider['value']=0x64,restoreNormalModeButtons(),setBgSameAsCurrent();break;case'medium':hueMinSlider['value']=0x0,hueMaxSlider['value']=0x168,saturationMinSlider['value']=0x28,saturationMaxSlider['value']=0x64,brightnessMinSlider['value']=0x28,brightnessMaxSlider['value']=0x64,restoreNormalModeButtons(),setBgWhite();break;case'hard':hueMinSlider['value']=0x0,hueMaxSlider['value']=0x168,saturationMinSlider['value']=0x0,saturationMaxSlider['value']=0x64,brightnessMinSlider['value']=0x0,brightnessMaxSlider['value']=0x64,createHardModeButtons(),setBgRandom();!quickJudgeContent['classList']['contains']('collapsed')&&(quickJudgeContent['style']['maxHeight']=quickJudgeContent['scrollHeight']+'px');break;}updateSliderValues(),generateRandomColor();}function checkAnswer(_0x47a07b,_0x2af10c,_0x2558a3,_0x4b9e71){resetQuizButtons();let _0x245414=![];_0x47a07b==='saturation'?_0x245414=currentColor['s']>=_0x2af10c&&currentColor['s']<=_0x2558a3:_0x245414=currentColor['b']>=_0x2af10c&&currentColor['b']<=_0x2558a3;if(_0x245414){_0x4b9e71['classList']['add']('correct');if(_0x47a07b==='saturation'&&!answeredSaturation)streakSaturation++,document['getElementById']('saturationStreak')['textContent']=streakSaturation,answeredSaturation=!![];else _0x47a07b==='brightness'&&!answeredBrightness&&(streakBrightness++,document['getElementById']('brightnessStreak')['textContent']=streakBrightness,answeredBrightness=!![]);}else{_0x4b9e71['classList']['add']('incorrect');if(_0x47a07b==='saturation'&&!answeredSaturation)streakSaturation=0x0,document['getElementById']('saturationStreak')['textContent']=streakSaturation,answeredSaturation=!![];else _0x47a07b==='brightness'&&!answeredBrightness&&(streakBrightness=0x0,document['getElementById']('brightnessStreak')['textContent']=streakBrightness,answeredBrightness=!![]);}}function setBgSameAsCurrent(){addToBgHistory(colorDisplayContainer['style']['backgroundColor']);const _0x5c2124=colorDisplay['style']['backgroundColor'];colorDisplayContainer['style']['backgroundColor']=_0x5c2124,currentBgMode='same',sameBgBtn['classList']['add']('active'),oppositeBgBtn['classList']['remove']('active'),randomBgBtn['classList']['remove']('active'),grayBgBtn2['classList']['remove']('active'),whiteBgBtn2['classList']['remove']('active');}function setBgOpposite(){addToBgHistory(colorDisplayContainer['style']['backgroundColor']);const _0x53d2d9=hsbToRgb(currentColor['h'],currentColor['s'],currentColor['b']),_0x1d8562={};_0x1d8562['r']=0xff-_0x53d2d9['r'],_0x1d8562['g']=0xff-_0x53d2d9['g'],_0x1d8562['b']=0xff-_0x53d2d9['b'];const _0x5f4e6a=_0x1d8562,_0xf8ebf=rgbToHex(_0x5f4e6a['r'],_0x5f4e6a['g'],_0x5f4e6a['b']);colorDisplayContainer['style']['backgroundColor']=_0xf8ebf,currentBgMode='opposite',oppositeBgBtn['classList']['add']('active'),sameBgBtn['classList']['remove']('active'),randomBgBtn['classList']['remove']('active'),grayBgBtn2['classList']['remove']('active'),whiteBgBtn2['classList']['remove']('active');}function setBgRandom(){addToBgHistory(colorDisplayContainer['style']['backgroundColor']);const _0x1ac6df=Math['floor'](Math['random']()*0x169),_0x36dca2=Math['floor'](Math['random']()*0x65),_0x2382fd=Math['floor'](Math['random']()*0x65),_0x587ffe=hsbToRgb(_0x1ac6df,_0x36dca2,_0x2382fd),_0xf3e307=rgbToHex(_0x587ffe['r'],_0x587ffe['g'],_0x587ffe['b']);colorDisplayContainer['style']['backgroundColor']=_0xf3e307,currentBgMode='random',randomBgBtn['classList']['add']('active'),sameBgBtn['classList']['remove']('active'),oppositeBgBtn['classList']['remove']('active'),grayBgBtn2['classList']['remove']('active'),whiteBgBtn2['classList']['remove']('active'),updateComparisonPanel();}function setBgGray(){addToBgHistory(colorDisplayContainer['style']['backgroundColor']),colorDisplayContainer['style']['backgroundColor']='#808080',currentBgMode=null,grayBgBtn2['classList']['add']('active'),sameBgBtn['classList']['remove']('active'),oppositeBgBtn['classList']['remove']('active'),randomBgBtn['classList']['remove']('active'),whiteBgBtn2['classList']['remove']('active');}function setBgWhite(){addToBgHistory(colorDisplayContainer['style']['backgroundColor']),colorDisplayContainer['style']['backgroundColor']='#ffffff',currentBgMode='white',whiteBgBtn2['classList']['add']('active'),sameBgBtn['classList']['remove']('active'),oppositeBgBtn['classList']['remove']('active'),randomBgBtn['classList']['remove']('active'),grayBgBtn2['classList']['remove']('active');}let isColorsConnected=![];function initComparisonPanel(){updateComparisonPanel();}function updateComparisonPanel(){isColorsConnected=![],document['getElementById']('colorConnector')['style']['display']='none',document['querySelectorAll']('.comparison-color')['forEach'](_0x161fc3=>{_0x161fc3['style']['visibility']='visible';}),document['getElementById']('connectColorsBtn')['innerHTML']='<i\x20class=\x22fas\x20fa-link\x22></i>\x20连接颜色';const _0x140881=colorDisplay['style']['backgroundColor'],_0x4436e7=colorDisplay['style']['backgroundColor'],_0x40a169=hsbToRgb(currentColor['h'],currentColor['s'],currentColor['b']),_0x51fe8f={};_0x51fe8f['r']=0xff-_0x40a169['r'],_0x51fe8f['g']=0xff-_0x40a169['g'],_0x51fe8f['b']=0xff-_0x40a169['b'];const _0x1d9dba=_0x51fe8f,_0x24c9dc=rgbToHex(_0x1d9dba['r'],_0x1d9dba['g'],_0x1d9dba['b']);let _0x56463e;if(currentBgMode==='random')_0x56463e=colorDisplayContainer['style']['backgroundColor'];else{const _0x690883=Math['floor'](Math['random']()*0x169),_0x2ba4ec=Math['floor'](Math['random']()*0x65),_0x168636=Math['floor'](Math['random']()*0x65),_0x2e8a83=hsbToRgb(_0x690883,_0x2ba4ec,_0x168636);_0x56463e=rgbToHex(_0x2e8a83['r'],_0x2e8a83['g'],_0x2e8a83['b']);}document['querySelector']('[data-bgtype=\x22same\x22]\x20.comparison-bg')['style']['backgroundColor']='#000000',document['querySelector']('[data-bgtype=\x22opposite\x22]\x20.comparison-bg')['style']['backgroundColor']=_0x24c9dc,document['querySelector']('[data-bgtype=\x22random\x22]\x20.comparison-bg')['style']['backgroundColor']=_0x56463e,document['querySelector']('[data-bgtype=\x22gray\x22]\x20.comparison-bg')['style']['backgroundColor']='#808080',document['querySelector']('[data-bgtype=\x22white\x22]\x20.comparison-bg')['style']['backgroundColor']='#ffffff',updateComparisonColors();}function updateComparisonColors(){const _0x67e428=colorDisplay['style']['backgroundColor'];document['querySelectorAll']('.comparison-color')['forEach'](_0x1d8bab=>{_0x1d8bab['style']['backgroundColor']=_0x67e428;});}function calculateOppositeColor(_0x2ea5ab){if(_0x2ea5ab['startsWith']('rgb')){const _0x34870d=_0x2ea5ab['match'](/\d+/g);_0x2ea5ab=rgbToHex(parseInt(_0x34870d[0x0],parseInt(_0x34870d[0x1]),parseInt(_0x34870d[0x2])));}const _0x4f5341=hexToRgb(_0x2ea5ab);return rgbToHex(0xff-_0x4f5341['r'],0xff-_0x4f5341['g'],0xff-_0x4f5341['b']);}document['getElementById']('connectColorsBtn')['addEventListener']('click',function(){isColorsConnected=!isColorsConnected;const _0x3e1c34=document['getElementById']('colorConnector');if(isColorsConnected){const _0x4bd76d=document['querySelector']('.comparison-item'),_0x231743=document['querySelector']('.comparison-item:last-child'),_0x16b4f4=document['querySelector']('.comparison-container')['getBoundingClientRect'](),_0x477c5a=_0x4bd76d['getBoundingClientRect'](),_0x3c208f=_0x231743['getBoundingClientRect']();_0x3e1c34['style']['left']=_0x477c5a['left']-_0x16b4f4['left']+'px',_0x3e1c34['style']['width']=_0x3c208f['right']-_0x477c5a['left']+'px',_0x3e1c34['style']['display']='block',_0x3e1c34['style']['backgroundColor']=colorDisplay['style']['backgroundColor'],this['innerHTML']='<i\x20class=\x22fas\x20fa-unlink\x22></i>\x20取消连接';}else _0x3e1c34['style']['display']='none',this['innerHTML']='<i\x20class=\x22fas\x20fa-link\x22></i>\x20连接颜色';}),newWindowBtn['addEventListener']('click',function(){openComparisonInNewWindow();}); function openComparisonInNewWindow() { const newWindow = window.open('', '_blank', 'width=1200,height=800,scrollbars=yes'); const comparisonHTML = document.querySelector('.background-comparison-panel').innerHTML; const newDocument = ` <!DOCTYPE html> <html> <head> <title>环境差异比较 - 放大视图</title> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> <style> body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #2c3e50; color: #ecf0f1; padding: 0; margin: 0; height: 100vh; display: flex; flex-direction: column; overflow: hidden; } .comparison-container { flex: 1; width: 100vw !important; height: 100vh !important; max-width: 100% !important; padding: 20px !important; background: #2a2a2a !important; display: flex !important; flex-direction: row !important; justify-content: space-around !important; align-items: center !important; z-index: 9999 !important; flex-wrap: nowrap !important; box-sizing: border-box; } .comparison-item { margin: 0 15px !important; height: 80% !important; display: flex !important; flex-direction: column !important; justify-content: center !important; flex: 1 !important; } .comparison-bg { width: 90% !important; height: 60% !important; min-height: 150px !important; flex-shrink: 0 !important; border-radius: 8px; margin-bottom: 15px; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; } .comparison-color { width: 25% !important; height: 30% !important; min-height: 60px !important; border-radius: 5px; position: relative; z-index: 2; } .color-connector { position: absolute; top: 45%; left: 0; width: 100%; height: 30px; transform: translateY(-50%); z-index: 1; display: none; } .comparison-item span { font-size: 1.2rem !important; margin-top: 15px !important; color: #ecf0f1 !important; font-weight: bold !important; text-align: center; } .comparison-controls { position: absolute; bottom: 30px; left: 0; right: 0; margin-top: 20px !important; display: flex; justify-content: center; } .comparison-btn { padding: 12px 20px !important; background: #3498db; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1.1rem !important; margin: 0 10px !important; transition: all 0.2s; } .comparison-btn:hover { background: #2980b9; } h2 { text-align: center; color: #3498db; margin: 15px 0; font-size: 1.8rem; position: absolute; top: 0; left: 0; right: 0; z-index: 10; } </style> </head> <body> <h2>环境差异比较 - 放大视图</h2> <div class="background-comparison-panel"> ${comparisonHTML} </div> <script> document.addEventListener('DOMContentLoaded', function() { const connectColorsBtn = document.getElementById('connectColorsBtn'); const colorConnector = document.getElementById('colorConnector'); let isColorsConnected = false; function updateConnectorPosition() { const firstItem = document.querySelector('.comparison-item'); const lastItem = document.querySelector('.comparison-item:last-child'); const containerRect = document.querySelector('.comparison-container').getBoundingClientRect(); const firstRect = firstItem.getBoundingClientRect(); const lastRect = lastItem.getBoundingClientRect(); colorConnector.style.left = (firstRect.left - containerRect.left) + 'px'; colorConnector.style.width = (lastRect.right - firstRect.left) + 'px'; colorConnector.style.display = 'block'; colorConnector.style.backgroundColor = document.querySelector('.comparison-color').style.backgroundColor; } connectColorsBtn.addEventListener('click', function() { isColorsConnected = !isColorsConnected; if (isColorsConnected) { updateConnectorPosition(); this.innerHTML = '<i class="fas fa-unlink"></i> 取消连接'; } else { colorConnector.style.display = 'none'; this.innerHTML = '<i class="fas fa-link"></i> 连接颜色'; } }); window.addEventListener('resize', function() { if (isColorsConnected) { updateConnectorPosition(); } }); if (${isColorsConnected}) { setTimeout(function() { connectColorsBtn.click(); }, 100); } }); <\/script> </body> </html> `; newWindow.document.open(); newWindow.document.write(newDocument); newWindow.document.close(); } generateBtn.addEventListener('click', generateRandomColor); showAnswerBtn.addEventListener('click', toggleAnswer); resetBtn.addEventListener('click', resetRanges); applyColorBtn.addEventListener('click', applyCustomColor); applyBgColorBtn.addEventListener('click', applyColorToBackground); resetBgColorBtn.addEventListener('click', resetBackgroundColor); convertBtn.addEventListener('click', convertAndCheckColor); hintBtn.addEventListener('click', function() { convertAndCheckColor(); showHint(); }); sameBgBtn.addEventListener('click', setBgSameAsCurrent); oppositeBgBtn.addEventListener('click', setBgOpposite); randomBgBtn.addEventListener('click', setBgRandom); grayBgBtn2.addEventListener('click', setBgGray); whiteBgBtn2.addEventListener('click', setBgWhite); easyBtn.addEventListener('click', function() { setDifficulty('easy'); }); mediumBtn.addEventListener('click', function() { setDifficulty('medium'); }); hardBtn.addEventListener('click', function() { setDifficulty('hard'); }); bindJudgeButtonEvents(); generateRandomColor(); window.addEventListener('resize', initCanvas); }); </script> </body></html>
